import{_ as Oe}from"./CjGf6EYd.js";import{g as je,l as Re,c as r,a as t,p as w,G as Be,r as p,n as a,s as g,m as N,d as c,F as M,v as V,x as T,y as m,z as O,U as Z,t as d,H as J,O as ee,B as h,o,q as K,_ as De}from"./ZcPQy5tI.js";import{u as Ve}from"./DgepazF8.js";import{u as Ae}from"./DaFB5xze.js";const Ee={class:"p-4 md:p-6"},Te={class:"mb-6"},$e={key:0,class:"mt-4 p-4 bg-slate-800/50 rounded-lg border border-white/10"},ze={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6"},Ue={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Fe={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-3"},He={class:"text-lg font-medium text-white"},Le={class:"flex items-center justify-between text-sm text-slate-400 mb-4"},Ne={class:"flex gap-2"},Ie=["onClick"],Se=["onClick"],qe=["onClick"],Pe={key:0,class:"col-span-full text-center py-16"},Ge={class:"glass-card w-full max-w-md p-6"},We={class:"mb-4"},Je={class:"mb-4"},Ke={class:"grid grid-cols-2 gap-3 mb-2"},Qe={key:0,class:"w-5 h-5 text-primary-500",fill:"currentColor",viewBox:"0 0 20 20"},Xe={key:0,class:"w-5 h-5 text-secondary-500",fill:"currentColor",viewBox:"0 0 20 20"},Ye={class:"text-xs text-slate-500"},Ze={class:"flex gap-3"},et=["disabled"],tt={class:"glass-card w-full max-w-2xl p-6 max-h-[80vh] overflow-y-auto"},st={class:"flex items-center justify-between mb-4"},at={class:"text-lg font-semibold text-white"},lt={class:"text-sm text-slate-400 mt-1"},ot={class:"flex items-start gap-2"},rt={class:"text-xs text-slate-400 mt-1"},nt={key:0,class:"text-center py-12"},dt={key:1},it={class:"space-y-2"},ut=["onDragstart","onDragover","onDrop"],pt={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2"},ct={class:"flex items-center gap-3"},vt={class:"inline-flex items-center justify-center w-10 h-10 text-xs bg-white/10 rounded-lg text-slate-300 font-mono"},mt={class:"text-white font-medium"},xt={class:"text-xs text-slate-500"},ft={class:"flex items-center gap-2"},wt={class:"text-xs text-slate-600 px-2 py-1 bg-white/5 rounded"},bt=["onClick"],gt={class:"mt-4 pt-4 border-t border-white/10"},ht={class:"grid grid-cols-2 sm:grid-cols-4 gap-3 mb-3"},yt={key:0,class:"mb-3"},kt=["value"],_t={key:0,class:"text-xs text-yellow-500 mt-1"},Ct={key:1,class:"mb-3"},Mt=["value"],Ot={key:0,class:"text-xs text-yellow-500 mt-1"},jt={class:"flex gap-2"},Rt=["disabled"],Bt={class:"glass-card w-full max-w-lg p-6 max-h-[80vh] overflow-y-auto"},Dt={class:"flex items-center justify-between mb-4"},Vt={class:"text-sm text-slate-400 mt-1"},At={key:0,class:"mb-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg"},Et={class:"flex items-center gap-2 mb-2"},Tt={class:"text-yellow-500 font-medium"},$t={class:"space-y-2 max-h-48 overflow-y-auto"},zt={class:"text-slate-400 mt-1 text-xs"},Ut={key:0,class:"mt-3 p-2 bg-yellow-500/10 rounded text-xs text-yellow-400"},Ft={class:"mb-4"},Ht=["value"],Lt={key:0,class:"text-xs text-yellow-500 mt-1"},Nt={class:"grid grid-cols-2 gap-4 mb-4"},It={class:"mb-4"},St={class:"flex flex-wrap gap-2",role:"group","aria-label":"é¸æ“‡æ˜ŸæœŸ"},qt=["value"],Pt={class:"text-white text-sm"},Gt={class:"mb-4"},Wt={class:"mb-4 p-3 bg-white/5 rounded-lg border border-white/10"},Jt={class:"flex items-start gap-3 cursor-pointer"},Kt={class:"flex gap-3"},Qt=["disabled"],Xt=je({__name:"templates",setup(Yt){const I=Ve(),A=p(!1),S=p(!1),$=p(!1),u=p(null),q=p([]),y=p([]),j=p([]),R=p([]),B=p([]),k=p([]),z=p(!1),D=p(!1),U=p(!1),{confirm:Q,error:b,warning:E,success:X}=Ae(),_=p(null),F=p(null),Y=p(!1),te=(l,e)=>{_.value=e,l.dataTransfer&&(l.dataTransfer.effectAllowed="move",l.dataTransfer.dropEffect="move")},H=()=>{_.value=null,F.value=null},se=(l,e)=>{_.value&&_.value.id!==e.id&&(F.value=e)},ae=()=>{F.value=null},le=async(l,e,v)=>{if(l.preventDefault(),!_.value||_.value.id===e.id){H();return}const s=y.value.findIndex(W=>W.id===_.value.id);if(s===-1){H();return}const f=[...y.value],[C]=f.splice(s,1);f.splice(v,0,C),y.value=f.map((W,Me)=>({...W,sort_order:Me+1})),H(),await oe()},oe=async()=>{if(!(!u.value||y.value.length===0)){Y.value=!0;try{const l=h(),e=y.value.map((v,s)=>({id:v.id,sort_order:s+1}));await l.put(`/admin/templates/${u.value.id}/cells/reorder`,{cells:e})}catch(l){console.error("Failed to save cell order:",l),await b("æ’åºå„²å­˜å¤±æ•—ï¼Œè«‹é‡æ–°æ•´ç†é é¢")}finally{Y.value=!1}}},i=p({row_no:1,col_no:1,start_time:"09:00",end_time:"10:00",room_id:null,teacher_id:null}),n=p({templateId:0,templateName:"",offeringId:"",startDate:"",endDate:"",weekdays:[],duration:60,override_buffer:!1}),re=K(()=>u.value?u.value.row_type==="ROOM"?i.value.room_id!==null:i.value.teacher_id!==null:!1),ne=K(()=>n.value.offeringId!==""&&n.value.startDate!==""&&n.value.endDate!==""&&n.value.weekdays.length>0),de=K(()=>k.value.some(l=>l.can_override)),ie=[{value:1,label:"é€±ä¸€"},{value:2,label:"é€±äºŒ"},{value:3,label:"é€±ä¸‰"},{value:4,label:"é€±å››"},{value:5,label:"é€±äº”"},{value:6,label:"é€±å…­"},{value:7,label:"é€±æ—¥"}],x=p({name:"",row_type:"ROOM"}),ue=l=>{const e=R.value.find(v=>v.id===l);return e?e.name:`æ•™å®¤ ${l}`},pe=l=>{const e=B.value.find(v=>v.id===l);return e?e.name:`è€å¸« ${l}`},ce=l=>l.room_id?ue(l.room_id):l.teacher_id?pe(l.teacher_id):"æœªè¨­å®š",ve=l=>l.room_id||l.teacher_id?"text-primary-400":"text-yellow-500",me=l=>({ROOM_OVERLAP:"æ•™å®¤æ™‚é–“è¡çª",TEACHER_OVERLAP:"è€å¸«æ™‚é–“è¡çª",PERSONAL_EVENT:"è€å¸«ç§äººè¡Œç¨‹è¡çª",TEACHER_BUFFER:"è€å¸«ç·©è¡æ™‚é–“ä¸è¶³",ROOM_BUFFER:"æ•™å®¤ç·©è¡æ™‚é–“ä¸è¶³"})[l]||l,xe=async()=>{try{const e=await h().get("/admin/rooms");e.datas?.rooms?R.value=e.datas.rooms:e.datas?R.value=Array.isArray(e.datas)?e.datas:[]:R.value=[]}catch(l){console.error("Failed to fetch rooms:",l),R.value=[]}},fe=async()=>{try{const e=await h().get("/admin/teachers");e.datas?.teachers?B.value=e.datas.teachers:e.datas?B.value=Array.isArray(e.datas)?e.datas:[]:B.value=[]}catch(l){console.error("Failed to fetch teachers:",l),B.value=[]}},P=async()=>{try{const e=await h().get("/admin/templates");q.value=e.datas||[]}catch(l){console.error("Failed to fetch templates:",l)}},we=async()=>{z.value=!0;try{await h().post("/admin/templates",x.value),A.value=!1,x.value={name:"",row_type:"ROOM"},await P()}catch(l){console.error("Failed to create template:",l),await b("å»ºç«‹å¤±æ•—")}finally{z.value=!1}},be=async l=>{if(await Q("ç¢ºå®šè¦åˆªé™¤æ­¤æ¨¡æ¿ï¼Ÿ"))try{await h().delete(`/admin/templates/${l}`),await P()}catch(e){console.error("Failed to delete template:",e),await b("åˆªé™¤å¤±æ•—")}},G=async l=>{u.value=l,i.value={row_no:1,col_no:1,start_time:"09:00",end_time:"10:00",room_id:null,teacher_id:null};try{const v=await h().get(`/admin/templates/${l.id}/cells`);y.value=v.datas||[]}catch(e){console.error("Failed to fetch cells:",e),y.value=[]}},ge=async()=>{if(u.value){if(u.value.row_type==="ROOM"&&!i.value.room_id){await E("è«‹é¸æ“‡æ•™å®¤");return}if(u.value.row_type==="TEACHER"&&!i.value.teacher_id){await E("è«‹é¸æ“‡è€å¸«");return}U.value=!0;try{const l=h(),e={row_no:i.value.row_no,col_no:i.value.col_no,start_time:i.value.start_time,end_time:i.value.end_time,room_id:u.value.row_type==="ROOM"?i.value.room_id:null,teacher_id:u.value.row_type==="TEACHER"?i.value.teacher_id:null};await l.post(`/admin/templates/${u.value.id}/cells`,[e]),await G(u.value),i.value.col_no++,i.value.col_no>4&&(i.value.col_no=1,i.value.row_no++),await X("æ ¼å­æ–°å¢æˆåŠŸ")}catch(l){console.error("Failed to add cells:",l),await b("æ–°å¢æ ¼å­å¤±æ•—ï¼š"+l.message)}finally{U.value=!1}}},he=async l=>{if(await Q("ç¢ºå®šè¦åˆªé™¤æ­¤æ ¼å­ï¼Ÿ"))try{await h().delete(`/admin/templates/cells/${l}`),await G(u.value),await X("æ ¼å­å·²åˆªé™¤")}catch(e){console.error("Failed to delete cell:",e),await b("åˆªé™¤æ ¼å­å¤±æ•—")}},ye=async()=>{try{const e=await h().get("/admin/offerings");e.datas?.offerings?j.value=e.datas.offerings:e.datas?j.value=e.datas:Array.isArray(e)?j.value=e:j.value=[]}catch(l){console.error("Failed to fetch offerings:",l),j.value=[]}},ke=l=>{u.value=null,n.value={templateId:l.id,templateName:l.name,offeringId:"",startDate:"",endDate:"",weekdays:[],duration:60,override_buffer:!1},k.value=[],S.value=!0},L=()=>{S.value=!1,k.value=[]},_e=async()=>{if(!n.value.offeringId||n.value.weekdays.length===0){await E("è«‹å¡«å¯«å®Œæ•´è³‡è¨Š");return}D.value=!0,k.value=[];try{const e=await h().post(`/admin/templates/${n.value.templateId}/apply`,{offering_id:Number(n.value.offeringId),start_date:n.value.startDate,end_date:n.value.endDate,weekdays:n.value.weekdays,duration:n.value.duration,override_buffer:n.value.override_buffer});if(e.code===40003&&e.datas?.conflicts){k.value=e.datas.conflicts,n.value.override_buffer||await E("åµæ¸¬åˆ° Buffer è¡çªï¼Œè«‹å‹¾é¸ã€Œå…è¨±è¦†è“‹ Buffer è¡çªã€å¾Œå†è©¦"),D.value=!1;return}if(e.code===40002&&e.datas?.conflicts){k.value=e.datas.conflicts,await b("ç„¡æ³•å¥—ç”¨æ¨¡æ¿ï¼šå­˜åœ¨ä¸å¯è¦†è“‹çš„æ™‚é–“è¡çªï¼Œè«‹æŸ¥çœ‹è©³ç´°è³‡è¨Š"),D.value=!1;return}if(e.code!==0&&e.code!==200){const v=e.message||`éŒ¯èª¤ç¢¼: ${e.code}`;await b(v),D.value=!1;return}L(),I.showSuccess("æ¨¡æ¿å¥—ç”¨æˆåŠŸ")}catch(l){console.error("Failed to apply template:",l);try{const e=l.data||{},v=l.message||"",s=l.code||e.code||0;e.datas?.conflicts&&(k.value=e.datas.conflicts),s===40002?await b("ç„¡æ³•å¥—ç”¨æ¨¡æ¿ï¼šå­˜åœ¨ä¸å¯è¦†è“‹çš„æ™‚é–“è¡çªï¼Œè«‹æŸ¥çœ‹è©³ç´°è³‡è¨Š"):s===40003?await E("åµæ¸¬åˆ° Buffer è¡çªï¼Œè«‹å‹¾é¸ã€Œå…è¨±è¦†è“‹ Buffer è¡çªã€å¾Œå†è©¦"):v?await b(v):await b("å¥—ç”¨å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}catch{await b("å¥—ç”¨å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦")}}finally{D.value=!1}},Ce=l=>l?new Date(l).toLocaleDateString("zh-TW"):"-";return Re(async()=>{await Promise.all([P(),ye(),xe(),fe()])}),(l,e)=>{const v=Oe;return o(),r(M,null,[t("div",Ee,[t("div",Te,[t("button",{onClick:e[0]||(e[0]=s=>$.value=!a($)),class:"flex items-center gap-2 text-slate-300 hover:text-white transition-colors"},[(o(),r("svg",{class:g(["w-5 h-5",a($)?"rotate-90":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[23]||(e[23]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2)),e[24]||(e[24]=t("span",{class:"font-medium"},"æ“ä½œæŒ‡å—",-1))]),a($)?(o(),r("div",$e,[...e[25]||(e[25]=[N('<h4 class="text-white font-medium mb-3" data-v-0964ddae>èª²è¡¨æ¨¡æ¿ä½¿ç”¨æµç¨‹</h4><div class="grid grid-cols-1 md:grid-cols-4 gap-4" data-v-0964ddae><div class="flex gap-3" data-v-0964ddae><div class="flex-shrink-0 w-8 h-8 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-500 font-bold" data-v-0964ddae>1</div><div data-v-0964ddae><h5 class="text-white font-medium text-sm" data-v-0964ddae>å»ºç«‹æ¨¡æ¿</h5><p class="text-slate-400 text-xs mt-1" data-v-0964ddae>é¸æ“‡æ¨¡æ¿åç¨±å’Œè¦–è§’é¡å‹ï¼ˆæ•™å®¤/è€å¸«ï¼‰</p></div></div><div class="flex gap-3" data-v-0964ddae><div class="flex-shrink-0 w-8 h-8 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-500 font-bold" data-v-0964ddae>2</div><div data-v-0964ddae><h5 class="text-white font-medium text-sm" data-v-0964ddae>æ–°å¢æ ¼å­</h5><p class="text-slate-400 text-xs mt-1" data-v-0964ddae>è¨­å®šæ™‚é–“æ®µä¸¦ç¶å®šæ•™å®¤æˆ–è€å¸«</p></div></div><div class="flex gap-3" data-v-0964ddae><div class="flex-shrink-0 w-8 h-8 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-500 font-bold" data-v-0964ddae>3</div><div data-v-0964ddae><h5 class="text-white font-medium text-sm" data-v-0964ddae>é¸æ“‡èª²ç¨‹</h5><p class="text-slate-400 text-xs mt-1" data-v-0964ddae>ç‚ºæ¨¡æ¿é¸æ“‡è¦å¥—ç”¨çš„èª²ç¨‹ç­åˆ¥</p></div></div><div class="flex gap-3" data-v-0964ddae><div class="flex-shrink-0 w-8 h-8 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-500 font-bold" data-v-0964ddae>4</div><div data-v-0964ddae><h5 class="text-white font-medium text-sm" data-v-0964ddae>å¥—ç”¨æ¨¡æ¿</h5><p class="text-slate-400 text-xs mt-1" data-v-0964ddae>é¸æ“‡æ—¥æœŸç¯„åœå’Œæ˜ŸæœŸï¼Œè‡ªå‹•ç”Ÿæˆèª²è¡¨</p></div></div></div><div class="mt-4 p-3 bg-blue-500/10 rounded-lg" data-v-0964ddae><h5 class="text-blue-400 text-sm font-medium mb-2" data-v-0964ddae>è¦–è§’é¡å‹èªªæ˜</h5><div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-xs text-slate-300" data-v-0964ddae><div class="flex items-start gap-2" data-v-0964ddae><span class="text-primary-500" data-v-0964ddae>â—</span><span data-v-0964ddae><strong class="text-white" data-v-0964ddae>æ•™å®¤è¦–è§’ï¼š</strong>æŒ‰æ•™å®¤åˆ†é…æ™‚é–“æ ¼ï¼Œé©åˆå›ºå®šæ•™å®¤çš„èª²ç¨‹æ’ç­</span></div><div class="flex items-start gap-2" data-v-0964ddae><span class="text-secondary-500" data-v-0964ddae>â—</span><span data-v-0964ddae><strong class="text-white" data-v-0964ddae>è€å¸«è¦–è§’ï¼š</strong>æŒ‰è€å¸«åˆ†é…æ™‚é–“æ ¼ï¼Œé©åˆæŒ‡åè€å¸«çš„èª²ç¨‹æ’ç­</span></div></div></div>',3)])])):w("",!0)]),t("div",ze,[e[27]||(e[27]=t("h1",{class:"text-2xl font-bold text-white"},"èª²è¡¨æ¨¡æ¿",-1)),t("button",{onClick:e[1]||(e[1]=s=>A.value=!0),class:"px-4 py-2 rounded-lg bg-primary-500 text-white hover:bg-primary-600 transition-colors flex items-center gap-2"},[...e[26]||(e[26]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" æ–°å¢æ¨¡æ¿ ",-1)])])]),t("div",Ue,[(o(!0),r(M,null,V(a(q),s=>(o(),r("div",{key:s.id,class:"glass-card p-4"},[t("div",Fe,[t("h3",He,d(s.name),1),t("span",{class:g(["px-2 py-1 rounded-full text-xs w-fit",s.row_type==="ROOM"?"bg-primary-500/20 text-primary-500":"bg-secondary-500/20 text-secondary-500"])},d(s.row_type==="ROOM"?"æ•™å®¤è¦–è§’":"è€å¸«è¦–è§’"),3)]),t("div",Le,[t("span",null,"å»ºç«‹æ–¼ "+d(Ce(s.created_at)),1),t("span",null,d(s.is_active!==!1?"å•Ÿç”¨":"åœç”¨"),1)]),t("div",Ne,[t("button",{onClick:f=>G(s),class:"flex-1 px-3 py-2 rounded-lg bg-white/5 text-white hover:bg-white/10 transition-colors text-sm flex items-center justify-center gap-1"},[...e[28]||(e[28]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),c(" æŸ¥çœ‹æ ¼å­ ",-1)])],8,Ie),t("button",{onClick:f=>ke(s),class:"px-3 py-2 rounded-lg bg-primary-500/20 text-primary-500 hover:bg-primary-500/30 transition-colors text-sm flex items-center justify-center gap-1"},[...e[29]||(e[29]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),c(" å¥—ç”¨ ",-1)])],8,Se),t("button",{onClick:f=>be(s.id),class:"px-3 py-2 rounded-lg bg-critical-500/20 text-critical-500 hover:bg-critical-500/30 transition-colors text-sm"},[...e[30]||(e[30]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,qe)])]))),128)),a(q).length===0?(o(),r("div",Pe,[e[32]||(e[32]=N('<div class="mb-4" data-v-0964ddae><svg class="w-16 h-16 mx-auto text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0964ddae><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" data-v-0964ddae></path></svg></div><h3 class="text-lg font-medium text-white mb-2" data-v-0964ddae>å°šæœªå»ºç«‹èª²è¡¨æ¨¡æ¿</h3><p class="text-slate-400 mb-4" data-v-0964ddae>å»ºç«‹æ¨¡æ¿å¯ä»¥å¿«é€Ÿé‡è¤‡å¥—ç”¨ç›¸åŒçš„èª²è¡¨çµæ§‹</p>',3)),t("button",{onClick:e[2]||(e[2]=s=>A.value=!0),class:"px-6 py-3 rounded-lg bg-primary-500 text-white hover:bg-primary-600 transition-colors inline-flex items-center gap-2"},[...e[31]||(e[31]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),c(" å»ºç«‹ç¬¬ä¸€å€‹æ¨¡æ¿ ",-1)])])])):w("",!0)])]),a(A)?(o(),r("div",{key:0,class:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e[7]||(e[7]=T(s=>A.value=!1,["self"]))},[t("div",Ge,[e[39]||(e[39]=t("h3",{class:"text-lg font-semibold text-white mb-2"},"æ–°å¢æ¨¡æ¿",-1)),e[40]||(e[40]=t("p",{class:"text-sm text-slate-400 mb-4"},"å»ºç«‹èª²è¡¨æ¨¡æ¿ï¼Œå¿«é€Ÿé‡è¤‡å¥—ç”¨ç›¸åŒçš„æ’èª²çµæ§‹",-1)),t("div",We,[e[33]||(e[33]=t("label",{for:"template-name",class:"block text-slate-300 mb-2"},[c(" æ¨¡æ¿åç¨± "),t("span",{class:"text-slate-500 text-xs ml-2"},"å¿…å¡«")],-1)),m(t("input",{id:"template-name","onUpdate:modelValue":e[3]||(e[3]=s=>a(x).name=s),type:"text",placeholder:"ä¾‹å¦‚ï¼šé€±ä¸€ä¸Šåˆç­è¡¨ã€ç‘œçˆæ•™å®¤æ¨¡æ¿",class:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",required:""},null,512),[[O,a(x).name]])]),t("div",Je,[e[38]||(e[38]=t("label",{for:"template-type",class:"block text-slate-300 mb-2"},[c(" è¦–è§’é¡å‹ "),t("span",{class:"text-slate-500 text-xs ml-2"},"å¿…å¡«")],-1)),t("div",Ke,[t("label",{class:g(["flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-colors",a(x).row_type==="ROOM"?"bg-primary-500/20 border-primary-500":"bg-white/5 border-white/10 hover:bg-white/10"])},[m(t("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=s=>a(x).row_type=s),value:"ROOM",class:"sr-only"},null,512),[[Z,a(x).row_type]]),e[35]||(e[35]=t("div",{class:"flex-1"},[t("div",{class:"text-white font-medium text-sm"},"æ•™å®¤è¦–è§’"),t("div",{class:"text-slate-400 text-xs mt-0.5"},"æŒ‰æ•™å®¤åˆ†é…æ™‚é–“")],-1)),a(x).row_type==="ROOM"?(o(),r("svg",Qe,[...e[34]||(e[34]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):w("",!0)],2),t("label",{class:g(["flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-colors",a(x).row_type==="TEACHER"?"bg-secondary-500/20 border-secondary-500":"bg-white/5 border-white/10 hover:bg-white/10"])},[m(t("input",{type:"radio","onUpdate:modelValue":e[5]||(e[5]=s=>a(x).row_type=s),value:"TEACHER",class:"sr-only"},null,512),[[Z,a(x).row_type]]),e[37]||(e[37]=t("div",{class:"flex-1"},[t("div",{class:"text-white font-medium text-sm"},"è€å¸«è¦–è§’"),t("div",{class:"text-slate-400 text-xs mt-0.5"},"æŒ‰è€å¸«åˆ†é…æ™‚é–“")],-1)),a(x).row_type==="TEACHER"?(o(),r("svg",Xe,[...e[36]||(e[36]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):w("",!0)],2)]),t("p",Ye,d(a(x).row_type==="ROOM"?"å»ºç«‹å¾Œéœ€ç‚ºæ¯å€‹æ ¼å­é¸æ“‡æ•™å®¤":"å»ºç«‹å¾Œéœ€ç‚ºæ¯å€‹æ ¼å­é¸æ“‡è€å¸«"),1)]),t("div",Ze,[t("button",{type:"button",onClick:e[6]||(e[6]=s=>A.value=!1),class:"flex-1 px-4 py-2 rounded-lg bg-white/5 text-white hover:bg-white/10 transition-colors"}," å–æ¶ˆ "),t("button",{type:"submit",onClick:we,disabled:a(z)||!a(x).name,class:"flex-1 px-4 py-2 rounded-lg bg-primary-500 text-white hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},d(a(z)?"å»ºç«‹ä¸­...":"å»ºç«‹æ¨¡æ¿"),9,et)])])])):w("",!0),a(u)?(o(),r("div",{key:1,class:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e[15]||(e[15]=T(s=>u.value=null,["self"]))},[t("div",tt,[t("div",st,[t("div",null,[t("h3",at,d(a(u).name),1),t("p",lt,d(a(u).row_type==="ROOM"?"æ•™å®¤è¦–è§’æ¨¡æ¿":"è€å¸«è¦–è§’æ¨¡æ¿")+" Â· "+d(a(y).length)+" å€‹æ™‚é–“æ ¼ ",1)]),t("button",{onClick:e[8]||(e[8]=s=>u.value=null),class:"text-slate-400 hover:text-white"},[...e[41]||(e[41]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",{class:g(["mb-4 p-3 rounded-lg",a(u).row_type==="ROOM"?"bg-primary-500/10 border border-primary-500/30":"bg-secondary-500/10 border border-secondary-500/30"])},[t("div",ot,[(o(),r("svg",{class:g(["w-5 h-5 mt-0.5 flex-shrink-0",a(u).row_type==="ROOM"?"text-primary-500":"text-secondary-500"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...e[42]||(e[42]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),t("div",null,[t("p",{class:g(["text-sm font-medium",a(u).row_type==="ROOM"?"text-primary-400":"text-secondary-400"])},d(a(u).row_type==="ROOM"?"æ•™å®¤è¦–è§’":"è€å¸«è¦–è§’")+"æ“ä½œèªªæ˜ ",3),t("p",rt,d(a(u).row_type==="ROOM"?"ç‚ºæ¯å€‹æ™‚é–“æ ¼é¸æ“‡æ•™å®¤ã€‚ç³»çµ±æœƒæª¢æŸ¥æ•™å®¤æ™‚é–“è¡çªèˆ‡ç·©è¡æ™‚é–“ã€‚":"ç‚ºæ¯å€‹æ™‚é–“æ ¼é¸æ“‡è€å¸«ã€‚ç³»çµ±æœƒæª¢æŸ¥è€å¸«æ™‚é–“è¡çªã€ç·©è¡æ™‚é–“èˆ‡ç§äººè¡Œç¨‹ã€‚"),1)])])],2),a(y).length===0?(o(),r("div",nt,[...e[43]||(e[43]=[N('<div class="mb-4" data-v-0964ddae><svg class="w-16 h-16 mx-auto text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0964ddae><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v6m0 0v6m0-6h6m-6 0H6" data-v-0964ddae></path></svg></div><h4 class="text-white font-medium mb-2" data-v-0964ddae>å°šæœªå»ºç«‹æ™‚é–“æ ¼</h4><p class="text-slate-400 text-sm mb-4" data-v-0964ddae>æ–°å¢æ™‚é–“æ ¼ä¾†å®šç¾©èª²è¡¨çµæ§‹</p><div class="flex items-center justify-center gap-4 text-xs text-slate-500" data-v-0964ddae><span class="flex items-center gap-1" data-v-0964ddae><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0964ddae><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" data-v-0964ddae></path></svg> åˆ—ï¼šæ™‚æ®µï¼ˆå¦‚ 9:00-10:00ï¼‰ </span><span class="flex items-center gap-1" data-v-0964ddae><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0964ddae><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2" data-v-0964ddae></path></svg> è¡Œï¼šæ˜ŸæœŸï¼ˆé€±ä¸€ï½é€±æ—¥ï¼‰ </span></div>',4)])])):(o(),r("div",dt,[e[46]||(e[46]=t("div",{class:"mb-3 flex items-center gap-2 text-xs text-slate-500"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8h16M4 16h16"})]),t("span",null,"æ‹–æ›³æ ¼å­å¯èª¿æ•´é †åºï¼ˆå…ˆå¾Œé †åºå½±éŸ¿å¥—ç”¨æ™‚çš„é è¨­æ’åºï¼‰")],-1)),t("div",it,[(o(!0),r(M,null,V(a(y),(s,f)=>(o(),r("div",{key:s.id,class:g(["p-3 rounded-lg transition-all cursor-move",[a(_)?.id===s.id?"opacity-50 scale-102 bg-primary-500/20 border-2 border-primary-500":a(F)?.id===s.id?"bg-primary-500/10 border-2 border-primary-500 transform scale-[1.02]":"bg-white/5 hover:bg-white/10 border-2 border-transparent"]]),draggable:"true",onDragstart:C=>te(C,s),onDragend:H,onDragover:T(C=>se(C,s),["prevent"]),onDragleave:ae,onDrop:C=>le(C,s,f)},[t("div",pt,[t("div",ct,[e[44]||(e[44]=t("div",{class:"flex-shrink-0 w-8 h-8 flex items-center justify-center text-slate-500"},[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8h4m-4 8h4m-4 8h4m-4 8h4M6 4h12v4H6z"})])],-1)),t("span",vt,d(s.row_no)+"-"+d(s.col_no),1),t("div",null,[t("div",mt,d(s.start_time)+" - "+d(s.end_time),1),t("div",xt,[c(d(a(u).row_type==="ROOM"?"æ•™å®¤":"è€å¸«")+"ï¼š ",1),t("span",{class:g(ve(s))},d(ce(s)),3)])])]),t("div",ft,[t("span",wt," #"+d(f+1),1),t("button",{onClick:C=>he(s.id),class:"p-2 rounded-lg bg-critical-500/10 text-critical-500 hover:bg-critical-500/20 transition-colors",title:"åˆªé™¤æ ¼å­"},[...e[45]||(e[45]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,bt)])])],42,ut))),128))])])),t("div",gt,[e[56]||(e[56]=t("h4",{class:"text-sm font-medium text-white mb-3"},"æ–°å¢æ™‚é–“æ ¼",-1)),t("div",ht,[t("div",null,[e[47]||(e[47]=t("label",{class:"block text-slate-400 text-xs mb-1"},"åˆ—ï¼ˆæ™‚æ®µï¼‰",-1)),m(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>a(i).row_no=s),type:"number",min:"1",class:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm"},null,512),[[O,a(i).row_no,void 0,{number:!0}]])]),t("div",null,[e[48]||(e[48]=t("label",{class:"block text-slate-400 text-xs mb-1"},"è¡Œï¼ˆæ˜ŸæœŸï¼‰",-1)),m(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>a(i).col_no=s),type:"number",min:"1",max:"7",class:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm"},null,512),[[O,a(i).col_no,void 0,{number:!0}]])]),t("div",null,[e[49]||(e[49]=t("label",{class:"block text-slate-400 text-xs mb-1"},"é–‹å§‹æ™‚é–“",-1)),m(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>a(i).start_time=s),type:"time",class:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm"},null,512),[[O,a(i).start_time]])]),t("div",null,[e[50]||(e[50]=t("label",{class:"block text-slate-400 text-xs mb-1"},"çµæŸæ™‚é–“",-1)),m(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>a(i).end_time=s),type:"time",class:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm"},null,512),[[O,a(i).end_time]])])]),a(u).row_type==="ROOM"?(o(),r("div",yt,[e[52]||(e[52]=t("label",{class:"block text-slate-400 text-xs mb-1"},[c(" é¸æ“‡æ•™å®¤ "),t("span",{class:"text-red-400 ml-1"},"*å¿…é¸")],-1)),m(t("select",{"onUpdate:modelValue":e[13]||(e[13]=s=>a(i).room_id=s),class:"w-full px-3 py-2 rounded-lg bg-slate-800 border border-white/10 text-white text-sm cursor-pointer appearance-none"},[e[51]||(e[51]=t("option",{value:""},"è«‹é¸æ“‡æ•™å®¤",-1)),(o(!0),r(M,null,V(a(R),s=>(o(),r("option",{key:s.id,value:s.id},d(s.name),9,kt))),128))],512),[[J,a(i).room_id]]),a(R).length===0?(o(),r("p",_t,"å°šç„¡æ•™å®¤è³‡æ–™ï¼Œè«‹å…ˆè‡³ã€Œè³‡æºç®¡ç†ã€å»ºç«‹æ•™å®¤")):w("",!0)])):(o(),r("div",Ct,[e[54]||(e[54]=t("label",{class:"block text-slate-400 text-xs mb-1"},[c(" é¸æ“‡è€å¸« "),t("span",{class:"text-red-400 ml-1"},"*å¿…é¸")],-1)),m(t("select",{"onUpdate:modelValue":e[14]||(e[14]=s=>a(i).teacher_id=s),class:"w-full px-3 py-2 rounded-lg bg-slate-800 border border-white/10 text-white text-sm cursor-pointer appearance-none"},[e[53]||(e[53]=t("option",{value:""},"è«‹é¸æ“‡è€å¸«",-1)),(o(!0),r(M,null,V(a(B),s=>(o(),r("option",{key:s.id,value:s.id},d(s.name),9,Mt))),128))],512),[[J,a(i).teacher_id]]),a(B).length===0?(o(),r("p",Ot,"å°šç„¡è€å¸«è³‡æ–™ï¼Œè«‹å…ˆé‚€è«‹è€å¸«åŠ å…¥ä¸­å¿ƒ")):w("",!0)])),t("div",jt,[t("button",{onClick:ge,disabled:a(U)||!a(re),class:"flex-1 px-4 py-2 rounded-lg bg-primary-500 text-white hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[e[55]||(e[55]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),c(" "+d(a(U)?"æ–°å¢ä¸­...":"æ–°å¢æ™‚é–“æ ¼"),1)],8,Rt)])])])])):w("",!0),a(S)?(o(),r("div",{key:2,class:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:T(L,["self"])},[t("div",Bt,[t("div",Dt,[t("div",null,[e[57]||(e[57]=t("h3",{class:"text-lg font-semibold text-white"},"å¥—ç”¨æ¨¡æ¿",-1)),t("p",Vt,d(a(n).templateName),1)]),t("button",{onClick:L,class:"text-slate-400 hover:text-white"},[...e[58]||(e[58]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e[69]||(e[69]=N('<div class="mb-4 flex items-center gap-2 text-xs" data-v-0964ddae><span class="flex items-center gap-1 text-slate-400" data-v-0964ddae><span class="w-5 h-5 rounded-full bg-primary-500 flex items-center justify-center text-white" data-v-0964ddae>1</span> é¸æ“‡èª²ç¨‹ </span><svg class="w-4 h-4 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0964ddae><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-0964ddae></path></svg><span class="flex items-center gap-1 text-slate-400" data-v-0964ddae><span class="w-5 h-5 rounded-full bg-primary-500 flex items-center justify-center text-white" data-v-0964ddae>2</span> è¨­å®šæ—¥æœŸ </span><svg class="w-4 h-4 text-slate-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-0964ddae><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-0964ddae></path></svg><span class="flex items-center gap-1 text-white font-medium" data-v-0964ddae><span class="w-5 h-5 rounded-full bg-primary-500 flex items-center justify-center text-white" data-v-0964ddae>3</span> ç¢ºèªå¥—ç”¨ </span></div>',1)),a(k).length>0?(o(),r("div",At,[t("div",Et,[e[59]||(e[59]=t("svg",{class:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),t("span",Tt,"æª¢æ¸¬åˆ° "+d(a(k).length)+" å€‹è¡çª",1)]),t("div",$t,[(o(!0),r(M,null,V(a(k),(s,f)=>(o(),r("div",{key:f,class:"text-sm p-2 rounded bg-yellow-500/5"},[t("div",{class:g(["font-medium",s.can_override?"text-yellow-400":"text-red-400"])},d(me(s.conflict_type)),3),t("div",zt,d(s.message),1)]))),128))]),a(de)?(o(),r("div",Ut," ğŸ’¡ æç¤ºï¼šå¯å‹¾é¸ã€Œå…è¨±è¦†è“‹ Buffer è¡çªã€ä¾†å¼·åˆ¶å¥—ç”¨ ")):w("",!0)])):w("",!0),t("form",{onSubmit:T(_e,["prevent"])},[t("div",Ft,[e[61]||(e[61]=t("label",{for:"offering-select",class:"block text-slate-300 mb-2 font-medium"},[c(" é¸æ“‡èª²ç¨‹ "),t("span",{class:"text-red-400 ml-1"},"*å¿…é¸")],-1)),m(t("select",{id:"offering-select","onUpdate:modelValue":e[16]||(e[16]=s=>a(n).offeringId=s),class:"input-field",required:""},[e[60]||(e[60]=t("option",{value:""},"è«‹é¸æ“‡èª²ç¨‹",-1)),(o(!0),r(M,null,V(a(j),s=>(o(),r("option",{key:s.id,value:s.id},d(s.name),9,Ht))),128))],512),[[J,a(n).offeringId]]),a(j).length===0?(o(),r("p",Lt,"å°šç„¡èª²ç¨‹è³‡æ–™ï¼Œè«‹å…ˆè‡³ã€Œèª²ç¨‹ç®¡ç†ã€å»ºç«‹èª²ç¨‹")):w("",!0)]),t("div",Nt,[t("div",null,[e[62]||(e[62]=t("label",{for:"start-date",class:"block text-slate-300 mb-2"},[c(" é–‹å§‹æ—¥æœŸ "),t("span",{class:"text-red-400 ml-1"},"*å¿…å¡«")],-1)),m(t("input",{id:"start-date","onUpdate:modelValue":e[17]||(e[17]=s=>a(n).startDate=s),type:"date",class:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white",required:""},null,512),[[O,a(n).startDate]])]),t("div",null,[e[63]||(e[63]=t("label",{for:"end-date",class:"block text-slate-300 mb-2"},[c(" çµæŸæ—¥æœŸ "),t("span",{class:"text-red-400 ml-1"},"*å¿…å¡«")],-1)),m(t("input",{id:"end-date","onUpdate:modelValue":e[18]||(e[18]=s=>a(n).endDate=s),type:"date",class:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white",required:""},null,512),[[O,a(n).endDate]])])]),t("div",It,[e[64]||(e[64]=t("span",{class:"block text-slate-300 mb-2"},[c(" é¸æ“‡æ˜ŸæœŸ "),t("span",{class:"text-red-400 ml-1"},"*å¿…é¸")],-1)),t("div",St,[(o(),r(M,null,V(ie,s=>t("label",{key:s.value,class:g(["flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 cursor-pointer hover:bg-white/10 transition-colors",{"bg-primary-500/20 border border-primary-500":a(n).weekdays.includes(s.value)}])},[m(t("input",{type:"checkbox",value:s.value,"onUpdate:modelValue":e[19]||(e[19]=f=>a(n).weekdays=f),class:"w-4 h-4 rounded border-white/20 bg-white/10 text-primary-500"},null,8,qt),[[ee,a(n).weekdays]]),t("span",Pt,d(s.label),1)],2)),64))]),e[65]||(e[65]=t("p",{class:"text-xs text-slate-500 mt-1"},"ç³»çµ±æœƒåœ¨é¸å®šçš„æ˜ŸæœŸè‡ªå‹•å¥—ç”¨æ¨¡æ¿ä¸­çš„æ™‚é–“æ ¼",-1))]),t("div",Gt,[e[66]||(e[66]=t("label",{for:"duration-input",class:"block text-slate-300 mb-2"},[c(" æ¯å ‚èª²æ™‚é•·ï¼ˆåˆ†é˜ï¼‰ "),t("span",{class:"text-slate-500 ml-1"},"é è¨­ 60 åˆ†é˜")],-1)),m(t("input",{id:"duration-input","onUpdate:modelValue":e[20]||(e[20]=s=>a(n).duration=s),type:"number",min:"30",step:"15",class:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white"},null,512),[[O,a(n).duration,void 0,{number:!0}]])]),t("div",Wt,[t("label",Jt,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[21]||(e[21]=s=>a(n).override_buffer=s),class:"w-5 h-5 mt-0.5 rounded border-white/20 bg-white/10 text-primary-500"},null,512),[[ee,a(n).override_buffer]]),e[67]||(e[67]=t("div",null,[t("span",{class:"text-white font-medium"},"å…è¨±è¦†è“‹ Buffer è¡çª"),t("p",{class:"text-xs text-slate-400 mt-1"},[c(" å‹¾é¸å¾Œï¼Œå³ä½¿æ™‚é–“é–“éš”ä¸è¶³ç·©è¡æ™‚é–“ä¹Ÿæœƒå¼·åˆ¶å¥—ç”¨æ¨¡æ¿ã€‚"),t("br"),c(" é©ç”¨æ–¼ç·Šæ€¥æ’èª²æˆ–ç‰¹æ®Šæƒ…æ³ã€‚ ")])],-1))])]),t("div",Kt,[t("button",{type:"button",onClick:L,class:"flex-1 px-4 py-2 rounded-lg bg-white/5 text-white hover:bg-white/10 transition-colors"}," å–æ¶ˆ "),t("button",{type:"submit",disabled:a(D)||!a(ne),class:"flex-1 px-4 py-2 rounded-lg bg-primary-500 text-white hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[e[68]||(e[68]=t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),c(" "+d(a(D)?"å¥—ç”¨ä¸­...":"ç¢ºèªå¥—ç”¨"),1)],8,Qt)])],32)])])):w("",!0),a(I).show.value?(o(),Be(v,{key:3,onClose:e[22]||(e[22]=s=>a(I).close())})):w("",!0)],64)}}}),as=De(Xt,[["__scopeId","data-v-0964ddae"]]);export{as as default};
