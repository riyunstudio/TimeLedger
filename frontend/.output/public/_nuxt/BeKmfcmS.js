import{_ as B}from"./C0JfvJ3S.js";import{_ as C}from"./CjGf6EYd.js";import{b as N}from"./DaFB5xze.js";import{g as h,j as T,k as z,l as $,c as d,o as l,F as M,a as o,G as b,p as k,b as s,w as i,d as a,n as m,r as w,t as g,Y as L,v as A,s as S,T as V,_ as H,J as I}from"./ZcPQy5tI.js";import{a as D,u as j}from"./DgepazF8.js";import{r as R}from"./Ds3GEs17.js";const F={class:"glass sticky top-0 z-40 border-b border-white/10"},G={class:"flex items-center justify-between px-4 py-3 max-w-7xl mx-auto relative"},U={class:"hidden md:flex items-center gap-6"},E={key:0,class:"md:hidden absolute top-full left-0 right-0 bg-slate-800/95 backdrop-blur-sm border-b border-white/10 z-50"},J={class:"flex flex-col p-4 space-y-2"},O={class:"flex items-center gap-2"},Y={key:0,class:"absolute -top-1 -right-1 w-5 h-5 bg-critical-500 text-white text-xs rounded-full flex items-center justify-center"},q={class:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},K={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},P={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},Q=h({__name:"AdminHeader",setup(_){const x=T(),p=z(),f=j(),c=D(),r=w(!1),v=async()=>{await N("確定要登出嗎？")&&(p.logout(),x.push("/admin/login"))};return $(()=>{c.fetchNotifications()}),(n,t)=>{const e=B,y=C;return l(),d(M,null,[o("header",F,[o("div",G,[t[29]||(t[29]=o("div",{class:"flex items-center gap-3"},[o("h1",{class:"text-xl font-bold bg-gradient-to-r from-primary-500 to-secondary-500 bg-clip-text text-transparent"},"TimeLedger")],-1)),o("nav",U,[s(e,{to:"/admin/dashboard",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:i(()=>[...t[11]||(t[11]=[a(" 課表 ",-1)])]),_:1}),s(e,{to:"/admin/schedules",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:i(()=>[...t[12]||(t[12]=[a(" 課程時段 ",-1)])]),_:1}),s(e,{to:"/admin/templates",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:i(()=>[...t[13]||(t[13]=[a(" 課表模板 ",-1)])]),_:1}),s(e,{to:"/admin/resources",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:i(()=>[...t[14]||(t[14]=[a(" 資源管理 ",-1)])]),_:1}),s(e,{to:"/admin/approval",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:i(()=>[...t[15]||(t[15]=[a(" 審核中心 ",-1)])]),_:1}),s(e,{to:"/admin/matching",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:i(()=>[...t[16]||(t[16]=[a(" 智慧媒合 ",-1)])]),_:1}),s(e,{to:"/admin/holidays",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:i(()=>[...t[17]||(t[17]=[a(" 例假日 ",-1)])]),_:1}),s(e,{to:"/admin/teacher-ratings",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:i(()=>[...t[18]||(t[18]=[a(" 老師評分 ",-1)])]),_:1})]),m(r)?(l(),d("div",E,[o("nav",J,[s(e,{to:"/admin/dashboard",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[0]||(t[0]=u=>r.value=!1)},{default:i(()=>[...t[19]||(t[19]=[a(" 課表 ",-1)])]),_:1}),s(e,{to:"/admin/schedules",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[1]||(t[1]=u=>r.value=!1)},{default:i(()=>[...t[20]||(t[20]=[a(" 課程時段 ",-1)])]),_:1}),s(e,{to:"/admin/templates",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[2]||(t[2]=u=>r.value=!1)},{default:i(()=>[...t[21]||(t[21]=[a(" 課表模板 ",-1)])]),_:1}),s(e,{to:"/admin/resources",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[3]||(t[3]=u=>r.value=!1)},{default:i(()=>[...t[22]||(t[22]=[a(" 資源管理 ",-1)])]),_:1}),s(e,{to:"/admin/approval",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[4]||(t[4]=u=>r.value=!1)},{default:i(()=>[...t[23]||(t[23]=[a(" 審核中心 ",-1)])]),_:1}),s(e,{to:"/admin/matching",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[5]||(t[5]=u=>r.value=!1)},{default:i(()=>[...t[24]||(t[24]=[a(" 智慧媒合 ",-1)])]),_:1}),s(e,{to:"/admin/holidays",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[6]||(t[6]=u=>r.value=!1)},{default:i(()=>[...t[25]||(t[25]=[a(" 例假日 ",-1)])]),_:1}),s(e,{to:"/admin/teacher-ratings",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[7]||(t[7]=u=>r.value=!1)},{default:i(()=>[...t[26]||(t[26]=[a(" 老師評分 ",-1)])]),_:1})])])):k("",!0),o("div",O,[o("button",{onClick:t[8]||(t[8]=u=>m(f).open()),class:"relative p-2 rounded-lg hover:bg-white/10 transition-colors"},[t[27]||(t[27]=o("svg",{class:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2 2 0 0118 22v-4.317l-1.405 1.405A2 2 0 0115 17h5l-1.405-1.405A2 2 0 0118 12v6a2 2 0 01-2 2h-2m-6 3h2m8 0h2M3 8h18M3 8v10a2 2 0 002 2h14a2 2 0 002-2V8z"})],-1)),m(c).unreadCount>0?(l(),d("span",Y,g(m(c).unreadCount>9?"9+":m(c).unreadCount),1)):k("",!0)]),o("button",{onClick:t[9]||(t[9]=u=>r.value=!m(r)),class:"md:hidden p-2 rounded-lg hover:bg-white/10 transition-colors"},[(l(),d("svg",q,[m(r)?(l(),d("path",P)):(l(),d("path",K))]))]),o("button",{onClick:v,class:"flex items-center gap-2 px-3 py-2 rounded-lg text-slate-300 hover:text-white hover:bg-white/10 transition-colors"},[...t[28]||(t[28]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),o("span",{class:"hidden sm:inline"},"登出",-1)])])])])]),m(f).show.value?(l(),b(y,{key:0,onClose:t[10]||(t[10]=u=>m(f).close())})):k("",!0)],64)}}}),W={class:"shrink-0"},X={key:0,class:"w-5 h-5 text-success-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Z={key:1,class:"w-5 h-5 text-critical-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tt={key:2,class:"w-5 h-5 text-warning-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},et={key:3,class:"w-5 h-5 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ot={class:"flex-1"},st={key:0,class:"font-medium text-slate-100 text-sm"},rt={class:"text-slate-300 text-sm"},nt=["onClick"],it=h({__name:"ToastNotification",setup(_,{expose:x}){const p=w([]);let f=0;const c=n=>{switch(n){case"success":return"border-l-4 border-l-success-500";case"error":return"border-l-4 border-l-critical-500";case"warning":return"border-l-4 border-l-warning-500";default:return"border-l-4 border-l-primary-500"}},r=n=>{p.value=p.value.filter(t=>t.id!==n)},v=(n,t,e)=>{const y=++f;p.value.push({id:y,type:n,message:t,title:e}),setTimeout(()=>r(y),5e3)};return x({success:(n,t)=>v("success",n,t),error:(n,t)=>v("error",n,t),warning:(n,t)=>v("warning",n,t),info:(n,t)=>v("info",n,t)}),(n,t)=>(l(),b(V,{to:"body"},[s(L,{name:"toast",tag:"div",class:"fixed bottom-4 right-4 z-[9999] space-y-3"},{default:i(()=>[(l(!0),d(M,null,A(m(p),e=>(l(),d("div",{key:e.id,class:S(["glass-card px-4 py-3 rounded-xl shadow-xl flex items-center gap-3 min-w-[280px] max-w-md",c(e.type)])},[o("div",W,[e.type==="success"?(l(),d("svg",X,[...t[0]||(t[0]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):e.type==="error"?(l(),d("svg",Z,[...t[1]||(t[1]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):e.type==="warning"?(l(),d("svg",tt,[...t[2]||(t[2]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])):(l(),d("svg",et,[...t[3]||(t[3]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),o("div",ot,[e.title?(l(),d("p",st,g(e.title),1)):k("",!0),o("p",rt,g(e.message),1)]),o("button",{onClick:y=>r(e.id),class:"shrink-0 p-1 rounded-lg hover:bg-white/10 transition-colors"},[...t[4]||(t[4]=[o("svg",{class:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,nt)],2))),128))]),_:1})]))}}),lt=H(it,[["__scopeId","data-v-7b9987b5"]]),at={class:"min-h-screen bg-slate-900"},dt={class:"h-[calc(100vh-64px)] overflow-auto"},mt={class:"p-4 md:p-6"},yt=h({__name:"admin",setup(_){const x=w(null),p=j();return $(()=>{x.value&&R(x.value)}),(f,c)=>{const r=Q,v=lt,n=C;return l(),d("div",at,[s(r),o("main",dt,[o("div",mt,[I(f.$slots,"default")])]),s(v,{ref_key:"toastRef",ref:x},null,512),m(p).show.value?(l(),b(n,{key:0,onClose:c[0]||(c[0]=t=>m(p).close())})):k("",!0)])}}});export{yt as default};
