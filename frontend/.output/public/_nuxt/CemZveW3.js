import{_ as $}from"./Blc-h3lb.js";import{b as M}from"./CyqcL6d0.js";import{g as k,j,k as B,l as w,c as m,o as d,a as o,p as y,b as s,w as r,d as i,n as u,r as b,t as g,G as C,Z as T,F as N,v as z,s as L,T as A,_ as S,J as V}from"./Blq0K2QU.js";import{a as H,u as _}from"./DtFpNjUJ.js";import{_ as I}from"./Df0LH2Y8.js";import{r as R}from"./A9G9iVPe.js";const D={class:"glass sticky top-0 z-40 border-b border-white/10"},F={class:"flex items-center justify-between px-4 py-3 max-w-7xl mx-auto relative"},G={class:"hidden md:flex items-center gap-6"},U={key:0,class:"md:hidden absolute top-full left-0 right-0 bg-slate-800/95 backdrop-blur-sm border-b border-white/10 z-50"},E={class:"flex flex-col p-4 space-y-2"},J={class:"flex items-center gap-2"},O={key:0,class:"absolute -top-1 -right-1 w-5 h-5 bg-critical-500 text-white text-xs rounded-full flex items-center justify-center"},Z={class:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},q={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},K={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},P=k({__name:"AdminHeader",setup(h){const c=j(),p=B(),f=_(),v=H(),n=b(!1),x=async()=>{await M("確定要登出嗎？")&&(p.logout(),c.push("/admin/login"))};return w(()=>{v.fetchNotifications()}),(a,t)=>{const e=$;return d(),m("header",D,[o("div",F,[t[37]||(t[37]=o("div",{class:"flex items-center gap-3"},[o("h1",{class:"text-xl font-bold bg-gradient-to-r from-primary-500 to-secondary-500 bg-clip-text text-transparent"},"TimeLedger")],-1)),o("nav",G,[s(e,{to:"/admin/dashboard",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[13]||(t[13]=[i(" 課表 ",-1)])]),_:1}),s(e,{to:"/admin/schedules",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[14]||(t[14]=[i(" 課程時段 ",-1)])]),_:1}),s(e,{to:"/admin/templates",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[15]||(t[15]=[i(" 課表模板 ",-1)])]),_:1}),s(e,{to:"/admin/resources",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[16]||(t[16]=[i(" 資源管理 ",-1)])]),_:1}),s(e,{to:"/admin/approval",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[17]||(t[17]=[i(" 審核中心 ",-1)])]),_:1}),s(e,{to:"/admin/matching",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[18]||(t[18]=[i(" 智慧媒合 ",-1)])]),_:1}),s(e,{to:"/admin/holidays",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[19]||(t[19]=[i(" 例假日 ",-1)])]),_:1}),s(e,{to:"/admin/invitations",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[20]||(t[20]=[i(" 邀請紀錄 ",-1)])]),_:1}),s(e,{to:"/admin/teacher-ratings",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[21]||(t[21]=[i(" 老師評分 ",-1)])]),_:1}),s(e,{to:"/admin/admin-list",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[22]||(t[22]=[i(" 管理員 ",-1)])]),_:1}),s(e,{to:"/admin/settings",class:"text-slate-300 hover:text-primary-400 transition-colors font-medium","active-class":"text-primary-500"},{default:r(()=>[...t[23]||(t[23]=[i(" 設定 ",-1)])]),_:1})]),u(n)?(d(),m("div",U,[o("nav",E,[s(e,{to:"/admin/dashboard",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[0]||(t[0]=l=>n.value=!1)},{default:r(()=>[...t[24]||(t[24]=[i(" 課表 ",-1)])]),_:1}),s(e,{to:"/admin/schedules",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[1]||(t[1]=l=>n.value=!1)},{default:r(()=>[...t[25]||(t[25]=[i(" 課程時段 ",-1)])]),_:1}),s(e,{to:"/admin/templates",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[2]||(t[2]=l=>n.value=!1)},{default:r(()=>[...t[26]||(t[26]=[i(" 課表模板 ",-1)])]),_:1}),s(e,{to:"/admin/resources",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[3]||(t[3]=l=>n.value=!1)},{default:r(()=>[...t[27]||(t[27]=[i(" 資源管理 ",-1)])]),_:1}),s(e,{to:"/admin/approval",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[4]||(t[4]=l=>n.value=!1)},{default:r(()=>[...t[28]||(t[28]=[i(" 審核中心 ",-1)])]),_:1}),s(e,{to:"/admin/matching",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[5]||(t[5]=l=>n.value=!1)},{default:r(()=>[...t[29]||(t[29]=[i(" 智慧媒合 ",-1)])]),_:1}),s(e,{to:"/admin/holidays",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[6]||(t[6]=l=>n.value=!1)},{default:r(()=>[...t[30]||(t[30]=[i(" 例假日 ",-1)])]),_:1}),s(e,{to:"/admin/invitations",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[7]||(t[7]=l=>n.value=!1)},{default:r(()=>[...t[31]||(t[31]=[i(" 邀請紀錄 ",-1)])]),_:1}),s(e,{to:"/admin/teacher-ratings",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[8]||(t[8]=l=>n.value=!1)},{default:r(()=>[...t[32]||(t[32]=[i(" 老師評分 ",-1)])]),_:1}),s(e,{to:"/admin/admin-list",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[9]||(t[9]=l=>n.value=!1)},{default:r(()=>[...t[33]||(t[33]=[i(" 管理員 ",-1)])]),_:1}),s(e,{to:"/admin/settings",class:"block px-4 py-2 rounded-lg text-slate-300 hover:text-primary-400 hover:bg-white/10 transition-colors font-medium","active-class":"text-primary-500 bg-primary-500/10",onClick:t[10]||(t[10]=l=>n.value=!1)},{default:r(()=>[...t[34]||(t[34]=[i(" 設定 ",-1)])]),_:1})])])):y("",!0),o("div",J,[o("button",{onClick:t[11]||(t[11]=l=>u(f).open()),class:"relative p-2 rounded-lg hover:bg-white/10 transition-colors"},[t[35]||(t[35]=o("svg",{class:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2 2 0 0118 22v-4.317l-1.405 1.405A2 2 0 0115 17h5l-1.405-1.405A2 2 0 0118 12v6a2 2 0 01-2 2h-2m-6 3h2m8 0h2M3 8h18M3 8v10a2 2 0 002 2h14a2 2 0 002-2V8z"})],-1)),u(v).unreadCount>0?(d(),m("span",O,g(u(v).unreadCount>9?"9+":u(v).unreadCount),1)):y("",!0)]),o("button",{onClick:t[12]||(t[12]=l=>n.value=!u(n)),class:"md:hidden p-2 rounded-lg hover:bg-white/10 transition-colors"},[(d(),m("svg",Z,[u(n)?(d(),m("path",K)):(d(),m("path",q))]))]),o("button",{onClick:x,class:"flex items-center gap-2 px-3 py-2 rounded-lg text-slate-300 hover:text-white hover:bg-white/10 transition-colors"},[...t[36]||(t[36]=[o("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),o("span",{class:"hidden sm:inline"},"登出",-1)])])])])])}}}),Q={class:"shrink-0"},W={key:0,class:"w-5 h-5 text-success-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X={key:1,class:"w-5 h-5 text-critical-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Y={key:2,class:"w-5 h-5 text-warning-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tt={key:3,class:"w-5 h-5 text-primary-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},et={class:"flex-1"},ot={key:0,class:"font-medium text-slate-100 text-sm"},st={class:"text-slate-300 text-sm"},rt=["onClick"],it=k({__name:"ToastNotification",setup(h,{expose:c}){const p=b([]);let f=0;const v=a=>{switch(a){case"success":return"border-l-4 border-l-success-500";case"error":return"border-l-4 border-l-critical-500";case"warning":return"border-l-4 border-l-warning-500";default:return"border-l-4 border-l-primary-500"}},n=a=>{p.value=p.value.filter(t=>t.id!==a)},x=(a,t,e)=>{const l=++f;p.value.push({id:l,type:a,message:t,title:e}),setTimeout(()=>n(l),5e3)};return c({success:(a,t)=>x("success",a,t),error:(a,t)=>x("error",a,t),warning:(a,t)=>x("warning",a,t),info:(a,t)=>x("info",a,t)}),(a,t)=>(d(),C(A,{to:"body"},[s(T,{name:"toast",tag:"div",class:"fixed bottom-4 right-4 z-[9999] space-y-3"},{default:r(()=>[(d(!0),m(N,null,z(u(p),e=>(d(),m("div",{key:e.id,class:L(["glass-card px-4 py-3 rounded-xl shadow-xl flex items-center gap-3 min-w-[280px] max-w-md",v(e.type)])},[o("div",Q,[e.type==="success"?(d(),m("svg",W,[...t[0]||(t[0]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):e.type==="error"?(d(),m("svg",X,[...t[1]||(t[1]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):e.type==="warning"?(d(),m("svg",Y,[...t[2]||(t[2]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])])):(d(),m("svg",tt,[...t[3]||(t[3]=[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),o("div",et,[e.title?(d(),m("p",ot,g(e.title),1)):y("",!0),o("p",st,g(e.message),1)]),o("button",{onClick:l=>n(e.id),class:"shrink-0 p-1 rounded-lg hover:bg-white/10 transition-colors"},[...t[4]||(t[4]=[o("svg",{class:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,rt)],2))),128))]),_:1})]))}}),nt=S(it,[["__scopeId","data-v-7b9987b5"]]),at={class:"min-h-screen bg-slate-900"},lt={class:"h-[calc(100vh-64px)] overflow-auto"},dt={class:"p-4 md:p-6"},ft=k({__name:"admin",setup(h){const c=b(null),p=_();return w(()=>{c.value&&R(c.value)}),(f,v)=>{const n=P,x=nt,a=I;return d(),m("div",at,[s(n),o("main",lt,[o("div",dt,[V(f.$slots,"default")])]),s(x,{ref_key:"toastRef",ref:c},null,512),u(p).show.value?(d(),C(a,{key:0,onClose:v[0]||(v[0]=t=>u(p).close())})):y("",!0)])}}});export{ft as default};
