import{g as z,c as u,a as t,p as f,t as i,s as b,y as L,z as U,n as d,A as M,r as g,x as j,o as r,D as rt,l as dt,E as ut,G as A,H as ct,F as P,v as V,B as N,q as I,d as mt}from"./ZcPQy5tI.js";import{_ as pt}from"./CjGf6EYd.js";import{u as xt}from"./DgepazF8.js";import{u as ft}from"./pFv8ODIQ.js";import{u as gt}from"./Ds3GEs17.js";import{s as vt}from"./DiF-fSc1.js";const bt={class:"flex items-center justify-between p-4 border-b border-white/10 sticky top-0 bg-slate-900/95 backdrop-blur-sm z-10"},wt={class:"p-4 space-y-4"},yt={class:"space-y-3"},ht={class:"text-slate-100 text-sm sm:text-base"},_t={class:"text-slate-100 text-sm sm:text-base"},kt={key:0,class:"space-y-2"},Et={class:"flex items-center gap-2"},Ct={class:"text-critical-500 text-sm line-through"},$t={class:"flex items-center gap-2"},Dt={class:"text-success-500 text-sm"},Tt={key:0,class:"flex items-center gap-2"},Rt={class:"text-primary-500 text-sm"},Pt={class:"text-slate-300 bg-slate-700/50 rounded-xl p-3 text-sm sm:text-base"},Nt=z({__name:"ReviewModal",props:{exception:{}},emits:["close","approved","rejected"],setup(T,{emit:c}){const l=T,x=c,v=g(""),C=a=>{switch(a){case"CANCEL":return"bg-critical-500/20 text-critical-500";case"RESCHEDULE":return"bg-warning-500/20 text-warning-500";default:return"bg-slate-500/20 text-slate-400"}},$=a=>{switch(a){case"CANCEL":return"停課";case"RESCHEDULE":return"改期";default:return a}},w=a=>{if(a.original_time)return a.original_time;if(a.rule){const e=a.rule.start_time||"",m=a.rule.end_time||"";if(e&&m)return`${e} - ${m}`}return"-"},D=()=>{x("approved",l.exception.id,v.value)},y=()=>{x("rejected",l.exception.id,v.value)};return(a,e)=>(r(),u("div",{class:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e[3]||(e[3]=j(m=>x("close"),["self"]))},[t("div",{class:"glass-card w-full max-w-md sm:max-w-lg max-h-[90vh] overflow-y-auto animate-spring",onClick:e[2]||(e[2]=j(()=>{},["stop"]))},[t("div",bt,[e[5]||(e[5]=t("h3",{class:"text-lg font-semibold text-slate-100"}," 審核申請 ",-1)),t("button",{onClick:e[0]||(e[0]=m=>x("close")),class:"p-2 rounded-lg hover:bg-white/10 transition-colors"},[...e[4]||(e[4]=[t("svg",{class:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",wt,[t("div",yt,[t("div",null,[e[6]||(e[6]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"課程",-1)),t("p",ht,i(l.exception?.offering_name),1)]),t("div",null,[e[7]||(e[7]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"老師",-1)),t("p",_t,i(l.exception?.teacher_name),1)]),t("div",null,[e[8]||(e[8]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"申請類型",-1)),t("span",{class:b(["px-3 py-1 rounded-full text-sm font-medium",C(l.exception?.type)])},i($(l.exception?.type)),3)]),l.exception?.type==="RESCHEDULE"?(r(),u("div",kt,[t("div",Et,[e[9]||(e[9]=t("span",{class:"text-slate-400 text-sm"},"原時間：",-1)),t("span",Ct,i(w(l.exception)),1)]),t("div",$t,[e[10]||(e[10]=t("span",{class:"text-slate-400 text-sm"},"新時間：",-1)),t("span",Dt,i(l.exception?.new_time),1)]),l.exception?.new_teacher_name?(r(),u("div",Tt,[e[11]||(e[11]=t("span",{class:"text-slate-400 text-sm"},"代課老師：",-1)),t("span",Rt,i(l.exception?.new_teacher_name),1)])):f("",!0)])):f("",!0),t("div",null,[e[12]||(e[12]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"申請原因",-1)),t("p",Pt,i(l.exception?.reason),1)])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-slate-300 mb-2 font-medium text-sm sm:text-base"},"審核備註（選填）",-1)),L(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=m=>M(v)?v.value=m:null),placeholder:"輸入審核備註...",rows:"3",class:"input-field resize-none text-sm sm:text-base"},null,512),[[U,d(v)]])])]),t("div",{class:"flex gap-3 p-4 border-t border-white/10"},[t("button",{onClick:y,class:"flex-1 btn-critical py-2.5 sm:py-3 rounded-xl font-medium text-sm sm:text-base"}," 拒絕 "),t("button",{onClick:D,class:"flex-1 btn-success py-2.5 sm:py-3 rounded-xl font-medium text-sm sm:text-base"}," 核准 ")])])]))}}),Lt={class:"flex items-center justify-between p-4 border-b border-white/10"},Mt={class:"p-4 space-y-4"},jt={class:"space-y-3"},St={class:"text-slate-100 font-medium"},At={class:"text-slate-100"},Vt={class:"grid grid-cols-2 gap-4"},It={class:"text-slate-100"},Ut={class:"text-slate-100"},zt={key:0,class:"grid grid-cols-2 gap-4"},Ft={class:"text-success-500 font-medium"},Ot={key:0},Ht={class:"text-primary-500 font-medium"},Bt={class:"grid grid-cols-2 gap-4"},Gt={class:"text-slate-400"},Jt={class:"text-slate-300 bg-slate-700/50 rounded-xl p-3"},Wt={key:1},Kt={class:"text-slate-300 bg-primary-500/10 border border-primary-500/30 rounded-xl p-3"},qt={class:"flex p-4 border-t border-white/10"},Qt=z({__name:"ExceptionDetailModal",props:{exception:{}},emits:["close"],setup(T,{emit:c}){const l=T,x=c,v=a=>{switch(a){case"CANCEL":return"bg-critical-500/20 text-critical-500";case"RESCHEDULE":return"bg-warning-500/20 text-warning-500";default:return"bg-slate-500/20 text-slate-400"}},C=a=>{switch(a){case"CANCEL":return"停課";case"RESCHEDULE":return"改期";default:return a}},$=a=>{switch(a){case"PENDING":return"bg-warning-500/20 text-warning-500";case"APPROVED":return"bg-success-500/20 text-success-500";case"REJECTED":return"bg-critical-500/20 text-critical-500";default:return"bg-slate-500/20 text-slate-400"}},w=a=>{switch(a){case"PENDING":return"待審核";case"APPROVED":return"已核准";case"REJECTED":return"已拒絕";default:return a}},D=a=>new Date(a).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=a=>{if(a.original_time)return a.original_time;if(a.rule){const e=a.rule.start_time||"",m=a.rule.end_time||"";if(e&&m)return`${e} - ${m}`}return"-"};return(a,e)=>(r(),u("div",{class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:e[3]||(e[3]=j(m=>x("close"),["self"]))},[t("div",{class:"glass-card w-full max-w-lg animate-spring",onClick:e[2]||(e[2]=j(()=>{},["stop"]))},[t("div",Lt,[e[5]||(e[5]=t("h3",{class:"text-lg font-semibold text-slate-100"}," 申請詳情 ",-1)),t("button",{onClick:e[0]||(e[0]=m=>x("close")),class:"p-2 rounded-lg hover:bg-white/10 transition-colors"},[...e[4]||(e[4]=[t("svg",{class:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Mt,[t("div",jt,[t("div",null,[e[6]||(e[6]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"課程",-1)),t("p",St,i(l.exception?.offering_name),1)]),t("div",null,[e[7]||(e[7]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"老師",-1)),t("p",At,i(l.exception?.teacher_name),1)]),t("div",null,[e[8]||(e[8]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"申請類型",-1)),t("span",{class:b(["px-3 py-1 rounded-full text-sm font-medium",v(l.exception?.type)])},i(C(l.exception?.type)),3)]),t("div",Vt,[t("div",null,[e[9]||(e[9]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"原時間",-1)),t("p",It,i(y(l.exception)),1)]),t("div",null,[e[10]||(e[10]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"原日期",-1)),t("p",Ut,i(D(l.exception?.original_date)),1)])]),l.exception?.type==="RESCHEDULE"?(r(),u("div",zt,[t("div",null,[e[11]||(e[11]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"新時間",-1)),t("p",Ft,i(l.exception?.new_time),1)]),l.exception?.new_teacher_name?(r(),u("div",Ot,[e[12]||(e[12]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"代課老師",-1)),t("p",Ht,i(l.exception?.new_teacher_name),1)])):f("",!0)])):f("",!0),t("div",Bt,[t("div",null,[e[13]||(e[13]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"申請狀態",-1)),t("span",{class:b(["px-3 py-1 rounded-full text-sm font-medium",$(l.exception?.status)])},i(w(l.exception?.status)),3)]),t("div",null,[e[14]||(e[14]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"申請日期",-1)),t("p",Gt,i(D(l.exception?.created_at)),1)])]),t("div",null,[e[15]||(e[15]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"申請原因",-1)),t("p",Jt,i(l.exception?.reason),1)]),l.exception?.review_note?(r(),u("div",Wt,[e[16]||(e[16]=t("h4",{class:"text-sm font-medium text-slate-300 mb-1"},"審核備註",-1)),t("p",Kt,i(l.exception?.review_note),1)])):f("",!0)])]),t("div",qt,[t("button",{onClick:e[1]||(e[1]=m=>x("close")),class:"w-full glass-btn py-3 rounded-xl font-medium"}," 關閉 ")])])]))}}),Xt={class:"p-4 md:p-6 max-w-7xl mx-auto"},Yt={class:"mb-6 md:mb-8"},Zt={class:"flex items-center justify-between"},te={class:"flex items-center gap-3"},ee={class:"flex items-center gap-2 text-xs text-slate-500"},se={key:0},ne={key:1},oe=["disabled"],le={class:"mb-6 flex flex-col gap-4"},ae={class:"flex flex-wrap gap-2 overflow-x-auto pb-2"},ie={label:"老師",class:"bg-slate-800"},re=["value"],de={label:"教室",class:"bg-slate-800"},ue=["value"],ce={class:"flex flex-wrap items-center gap-3"},me={class:"flex items-center gap-2"},pe={key:0,class:"text-center py-16 text-slate-500"},xe={key:1,class:"space-y-4"},fe={class:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4"},ge={class:"flex-1"},ve={class:"text-lg font-semibold text-slate-100 mb-1"},be={class:"flex flex-wrap items-center gap-2 text-sm text-slate-400"},we={class:"flex items-center gap-2"},ye=["onClick"],he=["onClick"],_e={key:0,class:"space-y-2"},ke={class:"flex flex-col sm:flex-row sm:items-center gap-2"},Ee={class:"text-critical-500 text-sm line-through"},Ce={key:0,class:"flex flex-col sm:flex-row sm:items-center gap-2"},$e={class:"text-success-500 text-sm"},De={key:1,class:"flex items-center gap-2"},Te={class:"text-primary-500 text-sm"},Re={key:1,class:"p-3 rounded-xl bg-slate-700/50 border border-white/10"},Pe={class:"text-sm text-slate-300"},Ve=z({__name:"approval",setup(T){const c=g("all"),l=g(""),x=g(null),v=g(null),C=xt(),$=g(!1);ft();const w=gt(),D=g(!0),y=g(!1),a=g(null);let e=null;const m=g(""),k=g(""),R=g([]),F=g([]),O=g([]),H=I(()=>{let n=R.value;if(c.value!=="all"){const s=c.value.toUpperCase(),p=s.replace(/ED$/,"");n=n.filter(h=>h.status.replace(/ED$/,"")===p||h.status===s)}if(l.value){const[s,p]=l.value.split(":"),h=parseInt(p);s==="teacher"?n=n.filter(_=>{const o=_.rule?.teacher?.id,S=_.new_teacher_id;return o===h||S===h}):s==="room"&&(n=n.filter(_=>(_.rule?.room?.id||_.new_room_id)===h))}if(m.value){const s=new Date(m.value);n=n.filter(p=>new Date(p.original_date)>=s)}if(k.value){const s=new Date(k.value);s.setHours(23,59,59,999),n=n.filter(p=>new Date(p.original_date)<=s)}return n}),W=I(()=>R.value.filter(n=>n.status==="PENDING").length),K=I(()=>{if(!a.value)return"";const s=Math.floor((new Date().getTime()-a.value.getTime())/1e3);return s<60?"剛剛":s<3600?`${Math.floor(s/60)} 分鐘前`:a.value.toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"})}),E=async()=>{try{const s=await N().get("/admin/exceptions/all");R.value=s.datas||[],a.value=new Date}catch(n){console.error("Failed to fetch exceptions:",n),R.value=[]}finally{$.value=!1}},q=async()=>{y.value=!0,await E(),await B(),setTimeout(()=>{y.value=!1},500)},Q=()=>{e=vt(()=>{document.hidden||E()},3e4)},X=()=>{e&&(clearInterval(e),e=null)},Y=()=>{},Z=()=>{m.value="",k.value=""};rt([c],()=>{E()});const B=async()=>{try{const n=N(),[s,p]=await Promise.all([n.get("/teachers"),n.get("/admin/rooms")]);F.value=s.datas||[],O.value=p.datas||[]}catch(n){console.error("Failed to fetch filters:",n)}},tt=n=>{switch(n){case"PENDING":return"bg-warning-500/20 text-warning-500";case"APPROVED":case"APPROVE":return"bg-success-500/20 text-success-500";case"REJECTED":case"REJECT":return"bg-critical-500/20 text-critical-500";case"REVOKED":return"bg-slate-500/20 text-slate-400";default:return"bg-slate-500/20 text-slate-400"}},et=n=>{switch(n){case"PENDING":return"待審核";case"APPROVED":case"APPROVE":return"已核准";case"REJECTED":case"REJECT":return"已拒絕";case"REVOKED":return"已撤回";default:return n}},st=()=>{switch(c.value){case"pending":return"目前沒有待審核的申請";case"approved":return"目前沒有已核准的申請";case"rejected":return"目前沒有被拒絕的申請";case"revoked":return"目前沒有已撤回的申請";default:return"目前沒有任何申請"}},nt=n=>n?new Date(n).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",weekday:"short"}):"-",G=n=>n?new Date(n).toLocaleString("zh-TW"):"-",ot=n=>{if(n.original_time)return n.original_time;if(n.rule){const s=n.rule.start_time||"",p=n.rule.end_time||"";if(s&&p)return`${s} - ${p}`}return"-"},lt=async(n,s)=>{try{await N().post(`/admin/scheduling/exceptions/${n}/review`,{action:"APPROVED",reason:s}),await E(),c.value="approved",w.success("已成功核准該申請","核准成功")}catch(p){console.error("Failed to approve exception:",p),w.error("核准失敗，請稍後再試","操作失敗");return}x.value=null},at=async(n,s)=>{try{await N().post(`/admin/scheduling/exceptions/${n}/review`,{action:"REJECTED",reason:s}),await E(),c.value="rejected",w.success("已成功拒絕該申請","拒絕成功")}catch(p){console.error("Failed to reject exception:",p),w.error("拒絕失敗，請稍後再試","操作失敗");return}x.value=null},it=n=>{console.log("Opening detail for exception:",n),v.value=n};dt(async()=>{$.value=!0,await E(),await B(),Q(),document.addEventListener("visibilitychange",J)}),ut(()=>{X(),document.removeEventListener("visibilitychange",J)});const J=()=>{document.hidden||E()};return(n,s)=>{const p=Nt,h=Qt,_=pt;return r(),u(P,null,[t("div",Xt,[t("div",Yt,[t("div",Zt,[s[13]||(s[13]=t("div",null,[t("h1",{class:"text-2xl md:text-3xl font-bold text-slate-100 mb-2"}," 審核中心 "),t("p",{class:"text-slate-400 text-sm md:text-base"}," 處理課程變更申請（停課/改期/找代課） ")],-1)),t("div",te,[t("div",ee,[t("span",{class:b(["w-2 h-2 rounded-full animate-pulse",d(D)?"bg-success-500":"bg-slate-500"])},null,2),d(a)?(r(),u("span",se,"更新於 "+i(d(K)),1)):(r(),u("span",ne,"尚未更新"))]),t("button",{onClick:q,disabled:d(y),class:"p-2 rounded-lg hover:bg-white/10 transition-colors",title:"手動重新整理"},[(r(),u("svg",{class:b(["w-5 h-5 text-slate-400",{"animate-spin":d(y)}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...s[12]||(s[12]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"},null,-1)])],2))],8,oe)])])]),t("div",le,[t("div",ae,[t("button",{onClick:s[0]||(s[0]=o=>c.value="all"),class:b(["glass-btn px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap",d(c)==="all"?"bg-primary-500/30 border-primary-500":""])}," 全部 ",2),t("button",{onClick:s[1]||(s[1]=o=>c.value="pending"),class:b(["glass-btn px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap",d(c)==="pending"?"bg-warning-500/30 border-warning-500":""])}," 待審核 ("+i(d(W))+") ",3),t("button",{onClick:s[2]||(s[2]=o=>c.value="approved"),class:b(["glass-btn px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap",d(c)==="approved"?"bg-success-500/30 border-success-500":""])}," 已核准 ",2),t("button",{onClick:s[3]||(s[3]=o=>c.value="rejected"),class:b(["glass-btn px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap",d(c)==="rejected"?"bg-critical-500/30 border-critical-500":""])}," 已拒絕 ",2),t("button",{onClick:s[4]||(s[4]=o=>c.value="revoked"),class:b(["glass-btn px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap",d(c)==="revoked"?"bg-slate-500/30 border-slate-500":""])}," 已撤回 ",2),s[15]||(s[15]=t("div",{class:"w-px bg-white/10 mx-2"},null,-1)),L(t("select",{"onUpdate:modelValue":s[5]||(s[5]=o=>M(l)?l.value=o:null),class:"px-4 py-2 rounded-xl text-sm font-medium whitespace-nowrap bg-slate-800/80 border border-white/10 text-slate-300 focus:outline-none focus:border-primary-500"},[s[14]||(s[14]=t("option",{value:""},"全部視角",-1)),t("optgroup",ie,[(r(!0),u(P,null,V(d(F),o=>(r(),u("option",{key:"t-"+o.id,value:"teacher:"+o.id,class:"bg-slate-800"},i(o.name),9,re))),128))]),t("optgroup",de,[(r(!0),u(P,null,V(d(O),o=>(r(),u("option",{key:"r-"+o.id,value:"room:"+o.id,class:"bg-slate-800"},i(o.name),9,ue))),128))])],512),[[ct,d(l)]]),d(l)?(r(),u("button",{key:0,onClick:s[6]||(s[6]=o=>l.value=""),class:"glass-btn px-3 py-2 rounded-xl text-sm font-medium whitespace-nowrap text-slate-400 hover:text-white"}," 清除篩選 ")):f("",!0)]),t("div",ce,[t("div",me,[s[16]||(s[16]=t("label",{class:"text-sm text-slate-400"},"日期範圍：",-1)),L(t("input",{type:"date","onUpdate:modelValue":s[7]||(s[7]=o=>M(m)?m.value=o:null),class:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm focus:outline-none focus:border-primary-500"},null,512),[[U,d(m)]]),s[17]||(s[17]=t("span",{class:"text-slate-500"},"至",-1)),L(t("input",{type:"date","onUpdate:modelValue":s[8]||(s[8]=o=>M(k)?k.value=o:null),class:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white text-sm focus:outline-none focus:border-primary-500"},null,512),[[U,d(k)]])]),t("button",{onClick:Y,class:"px-4 py-2 rounded-lg bg-primary-500 text-white text-sm font-medium hover:bg-primary-600 transition-colors"}," 套用 "),d(m)||d(k)?(r(),u("button",{key:0,onClick:Z,class:"px-3 py-2 rounded-lg bg-white/5 text-slate-400 text-sm hover:bg-white/10 transition-colors"}," 清除 ")):f("",!0)])]),d(H).length===0?(r(),u("div",pe,i(st()),1)):(r(),u("div",xe,[(r(!0),u(P,null,V(d(H),o=>(r(),u("div",{key:o.id,class:"glass-card p-4 md:p-5"},[t("div",fe,[t("div",ge,[t("h3",ve,i(o.offering_name||"課程變更"),1),t("div",be,[t("span",null,i(nt(o.original_date)),1),t("span",{class:b(["px-2 py-1 rounded-full text-xs font-medium",tt(o.status)])},i(et(o.status)),3)])]),t("div",we,[o.status==="PENDING"?(r(),u("button",{key:0,onClick:S=>x.value=o,class:"px-4 py-2 rounded-xl bg-primary-500 text-white text-sm font-medium hover:bg-primary-600 transition-colors"}," 審核 ",8,ye)):f("",!0),t("button",{onClick:S=>it(o),"aria-label":"查看詳情",class:"p-2 rounded-lg hover:bg-white/10 transition-colors"},[...s[18]||(s[18]=[t("svg",{class:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],8,he)])]),o.type==="RESCHEDULE"?(r(),u("div",_e,[t("div",ke,[s[19]||(s[19]=t("span",{class:"text-slate-400 text-sm"},"原時間：",-1)),t("span",Ee,i(ot(o)),1)]),o.new_start_at?(r(),u("div",Ce,[s[20]||(s[20]=t("span",{class:"text-slate-400 text-sm"},"新時間：",-1)),t("span",$e,i(G(o.new_start_at))+" - "+i(G(o.new_end_at)),1)])):f("",!0),o.new_teacher_name?(r(),u("div",De,[s[21]||(s[21]=t("span",{class:"text-slate-400 text-sm"},"代課老師：",-1)),t("span",Te,i(o.new_teacher_name),1)])):f("",!0)])):f("",!0),o.reason?(r(),u("div",Re,[t("p",Pe,[s[22]||(s[22]=t("span",{class:"font-medium text-slate-400"},"原因：",-1)),mt(" "+i(o.reason),1)])])):f("",!0)]))),128))]))]),d(x)?(r(),A(p,{key:0,exception:d(x),onClose:s[9]||(s[9]=o=>x.value=null),onApproved:lt,onRejected:at},null,8,["exception"])):f("",!0),d(v)?(r(),A(h,{key:1,exception:d(v),onClose:s[10]||(s[10]=o=>v.value=null)},null,8,["exception"])):f("",!0),d(C).show.value?(r(),A(_,{key:2,onClose:s[11]||(s[11]=o=>d(C).close())})):f("",!0)],64)}}});export{Ve as default};
