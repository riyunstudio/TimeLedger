import{g as W,c as u,o as d,a as s,G as Y,s as j,b as P,w as V,p as h,n as k,r as S,t as v,F as _,v as F,L as M,q as X,x as N,M as L,T as q,_ as D}from"./ZcPQy5tI.js";const E={key:0,class:"font-medium text-white mb-2 flex items-center gap-2"},G={class:"text-sm text-slate-300 space-y-2"},I={key:0,class:"leading-relaxed"},O={key:1,class:"mt-3 pt-3 border-t border-white/10"},A={class:"space-y-1.5"},J={class:"leading-relaxed"},K={key:2,class:"mt-3 pt-3 border-t border-white/10"},Q={class:"flex items-center gap-2"},U={class:"px-2 py-1 bg-slate-700/70 rounded text-xs text-slate-200 font-mono"},Z=W({__name:"HelpTooltip",props:{title:{},description:{},usage:{},shortcut:{},placement:{default:"top"},buttonClass:{}},setup(r){const x=r,m=S(!1);let g=null;const w=S(null),T=()=>{g&&(clearTimeout(g),g=null),m.value=!0},b=()=>{g=setTimeout(()=>{m.value=!1},200)},$=()=>{m.value=!m.value},y=(t,e,a,o)=>{const n=window.innerWidth,l=window.innerHeight;switch(e){case"top":return t.top-8-12-o>=16;case"bottom":return t.bottom+8+12+o<=l-16;case"left":return t.left-8-12-a>=16;case"right":return t.right+8+12+a<=n-16;default:return!1}},C=(t,e,a)=>{const o=["top","bottom","left","right"],f=[x.placement,...o.filter(i=>i!==x.placement)];for(const i of f)if(y(t,i,e,a))return i;for(const i of o)if(y(t,i,e,a))return i;return x.placement},H=X(()=>{if(!w.value)return{};const t=w.value.getBoundingClientRect(),e=288,a=200,o=12,f=8,i=C(t,e,a);let c=0,n=0,l="translateX(-50%)";switch(i){case"top":c=t.top-f-o,n=t.left+t.width/2,l="translateX(-50%) translateY(-100%)";break;case"bottom":c=t.bottom+f+o,n=t.left+t.width/2,l="translateX(-50%)";break;case"left":c=t.top+t.height/2,n=t.left-f-o,l="translateX(-100%) translateY(-50%)";break;case"right":c=t.top+t.height/2,n=t.right+f+o,l="translateY(-50%)";break}const p=16,z=window.innerWidth,B=window.innerHeight;return n-e/2<p?(n=e/2+p,l=l.replace("translateX(-50%)","")):n+e/2>z-p&&(n=z-e/2-p,l=l.replace("translateX(-50%)","")),c<p?c=p:c+a>B-p&&(c=B-a-p),{top:`${c}px`,left:`${n}px`,transform:l}}),R=X(()=>{const t=w.value?.getBoundingClientRect();if(!t)return{};switch(C(t,288,200)){case"top":return{bottom:"-8px",left:"50%",transform:"translateX(-50%) rotate(45deg)"};case"bottom":return{top:"-8px",left:"50%",transform:"translateX(-50%) rotate(45deg)"};case"left":return{top:"50%",right:"-8px",transform:"translateY(-50%) rotate(45deg)"};case"right":return{top:"50%",left:"-8px",transform:"translateY(-50%) rotate(45deg)"};default:return{bottom:"-8px",left:"50%",transform:"translateX(-50%) rotate(45deg)"}}});return(t,e)=>(d(),u("div",{ref_key:"wrapperRef",ref:w,class:"help-tooltip-wrapper"},[s("button",{type:"button",class:j(["help-tooltip-btn inline-flex items-center justify-center w-5 h-5 rounded-full bg-slate-700/50 text-slate-400 hover:text-white hover:bg-slate-600 transition-colors cursor-help shrink-0",r.buttonClass]),onClick:$,onMouseenter:T,onMouseleave:b},[...e[1]||(e[1]=[s("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])],34),(d(),Y(q,{to:"body"},[P(L,{"enter-active-class":"transition ease-out duration-150","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:V(()=>[k(m)?(d(),u("div",{key:0,class:"help-tooltip-overlay",onClick:b},[s("div",{ref:"tooltipRef",class:"help-tooltip-content",style:M(k(H)),onClick:e[0]||(e[0]=N(()=>{},["stop"]))},[r.title?(d(),u("div",E,[e[2]||(e[2]=s("svg",{class:"w-4 h-4 text-primary-400 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s("span",null,v(r.title),1)])):h("",!0),s("div",G,[r.description?(d(),u("p",I,v(r.description),1)):h("",!0),r.usage&&r.usage.length>0?(d(),u("div",O,[e[4]||(e[4]=s("div",{class:"text-xs text-slate-500 mb-2 uppercase tracking-wide font-medium"},"使用方式",-1)),s("ul",A,[(d(!0),u(_,null,F(r.usage,(a,o)=>(d(),u("li",{key:o,class:"flex items-start gap-2"},[e[3]||(e[3]=s("svg",{class:"w-4 h-4 text-primary-400 mt-0.5 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),s("span",J,v(a),1)]))),128))])])):h("",!0),r.shortcut?(d(),u("div",K,[e[5]||(e[5]=s("div",{class:"text-xs text-slate-500 mb-2 uppercase tracking-wide font-medium"},"快捷鍵",-1)),s("div",Q,[s("kbd",U,v(r.shortcut),1)])])):h("",!0)]),s("div",{class:"help-tooltip-arrow",style:M(k(R))},null,4)],4)])):h("",!0)]),_:1})]))],512))}}),et=D(Z,[["__scopeId","data-v-71586474"]]);export{et as _};
