-- =====================================================
-- TimeLedger 測試環境初始化腳本
-- 執行方式: 登入 MySQL 後，選擇資料庫，執行此檔案
-- =====================================================

USE timeledger;

-- -------------------------------------------------
-- 0. 新增 is_cross_day 欄位（如果不存在）
-- -------------------------------------------------
-- 嘗試新增欄位，如果已存在會忽略錯誤
-- ALTER TABLE schedule_rules ADD COLUMN is_cross_day BOOLEAN DEFAULT FALSE AFTER end_time;

-- -------------------------------------------------
-- 清除現有資料
-- -------------------------------------------------
-- 注意：請依照順序執行，先刪除子表再刪除主表
-- 先刪除與 teachers 相關的子表（外鍵約束）
DELETE FROM schedule_exceptions;
DELETE FROM personal_events;
-- 刪除 teacher_skills 及其關聯表
DELETE FROM teacher_skill_hashtags;
DELETE FROM teacher_certificates;
DELETE FROM teacher_skills;
DELETE FROM session_notes;
DELETE FROM schedule_rules;
-- 再刪除其他子表
DELETE FROM center_holidays;
DELETE FROM center_invitations;
DELETE FROM offerings;
DELETE FROM courses;
DELETE FROM rooms;
DELETE FROM center_memberships;
DELETE FROM admin_users;
-- 最後刪除主表
DELETE FROM teachers;
DELETE FROM centers;

-- 刪除鄉鎮 重新匯入
DELETE FROM geo_districts;
DELETE FROM geo_cities;

-- -------------------------------------------------
-- 1. 城市與鄉鎮區資料（完整 22 縣市）
-- -------------------------------------------------
INSERT IGNORE INTO geo_cities (id, name) VALUES
(1, '臺北市'), (2, '新北市'), (3, '桃園市'), (4, '臺中市'),
(5, '臺南市'), (6, '高雄市'), (7, '基隆市'), (8, '新竹市'),
(9, '新竹縣'), (10, '苗栗縣'), (11, '彰化縣'), (12, '南投縣'),
(13, '雲林縣'), (14, '嘉義市'), (15, '嘉義縣'), (16, '屏東縣'),
(17, '宜蘭縣'), (18, '花蓮縣'), (19, '臺東縣'), (20, '澎湖縣'),
(21, '金門縣'), (22, '連江縣');

INSERT IGNORE INTO geo_districts (city_id, name) VALUES
-- 臺北市（12 區）
(1, '中正區'), (1, '大同區'), (1, '中山區'), (1, '松山區'),
(1, '大安區'), (1, '萬華區'), (1, '信義區'), (1, '士林區'),
(1, '北投區'), (1, '內湖區'), (1, '南港區'), (1, '文山區'),
-- 新北市（28 區）
(2, '板橋區'), (2, '中和區'), (2, '永和區'), (2, '新莊區'),
(2, '新店區'), (2, '樹林區'), (2, '三重區'), (2, '淡水區'),
(2, '汐止區'), (2, '土城區'), (2, '蘆洲區'), (2, '五股區'),
(2, '泰山區'), (2, '林口區'), (2, '八里區'), (2, '三峽區'),
(2, '鶯歌區'), (2, '瑞芳區'), (2, '貢寮區'), (2, '雙溪區'),
(2, '平溪區'), (2, '石門區'), (2, '金山區'), (2, '萬里區'),
(2, '坪林區'), (2, '烏來區'), (2, '深坑區'), (2, '石碇區'),
-- 桃園市（13 區）
(3, '桃園區'), (3, '中壢區'), (3, '平鎮區'), (3, '八德區'),
(3, '楊梅區'), (3, '蘆竹區'), (3, '龜山區'), (3, '龍潭區'),
(3, '大溪區'), (3, '大園區'), (3, '觀音區'), (3, '新屋區'),
(3, '復興區'),
-- 臺中市（29 區）
(4, '中區'), (4, '東區'), (4, '南區'), (4, '西區'),
(4, '北區'), (4, '北屯區'), (4, '西屯區'), (4, '南屯區'),
(4, '太平區'), (4, '大里區'), (4, '霧峰區'), (4, '烏日區'),
(4, '豐原區'), (4, '后里區'), (4, '東勢區'), (4, '石岡區'),
(4, '新社區'), (4, '潭子區'), (4, '大雅區'), (4, '神岡區'),
(4, '大肚區'), (4, '沙鹿區'), (4, '龍井區'), (4, '梧棲區'),
(4, '清水區'), (4, '大甲區'), (4, '外埔區'), (4, '大安區'),
(4, '和平區'),
-- 臺南市（37 區）
(5, '中西區'), (5, '東區'), (5, '南區'), (5, '北區'),
(5, '安平區'), (5, '安南區'), (5, '永康區'), (5, '歸仁區'),
(5, '新化區'), (5, '左鎮區'), (5, '玉井區'), (5, '楠西區'),
(5, '南化區'), (5, '仁德區'), (5, '關廟區'), (5, '龍崎區'),
(5, '官田區'), (5, '麻豆區'), (5, '佳里區'), (5, '西港區'),
(5, '七股區'), (5, '將軍區'), (5, '學甲區'), (5, '北門區'),
(5, '新營區'), (5, '後壁區'), (5, '白河區'), (5, '東山區'),
(5, '六甲區'), (5, '下營區'), (5, '柳營區'), (5, '鹽水區'),
(5, '善化區'), (5, '大內區'), (5, '山上區'), (5, '新市區'),
(5, '安定區'),
-- 高雄市（38 區）
(6, '新興區'), (6, '前金區'), (6, '苓雅區'), (6, '鹽埕區'),
(6, '鼓山區'), (6, '旗津區'), (6, '前鎮區'), (6, '三民區'),
(6, '左營區'), (6, '楠梓區'), (6, '小港區'), (6, '鳳山區'),
(6, '林園區'), (6, '大寮區'), (6, '大樹區'), (6, '大社區'),
(6, '仁武區'), (6, '鳥松區'), (6, '岡山區'), (6, '橋頭區'),
(6, '燕巢區'), (6, '田寮區'), (6, '阿蓮區'), (6, '路竹區'),
(6, '湖內區'), (6, '茄萣區'), (6, '永安區'), (6, '彌陀區'),
(6, '梓官區'), (6, '旗山區'), (6, '美濃區'), (6, '六龜區'),
(6, '甲仙區'), (6, '杉林區'), (6, '內門區'), (6, '茂林區'),
(6, '桃源區'), (6, '那瑪夏區'),
-- 基隆市（7 區）
(7, '仁愛區'), (7, '信義區'), (7, '中正區'), (7, '中山區'),
(7, '安樂區'), (7, '暖暖區'), (7, '七堵區'),
-- 新竹市（3 區）
(8, '東區'), (8, '北區'), (8, '香山區'),
-- 新竹縣（13 鄉鎮）
(9, '竹北市'), (9, '竹東鎮'), (9, '新埔鎮'), (9, '關西鎮'),
(9, '湖口鄉'), (9, '新豐鄉'), (9, '峨眉鄉'), (9, '五峰鄉'),
(9, '橫山鄉'), (9, '芎林鄉'), (9, '寶山鄉'), (9, '北埔鄉'),
(9, '尖石鄉'),
-- 苗栗縣（18 鄉鎮）
(10, '苗栗市'), (10, '苑裡鎮'), (10, '通霄鎮'), (10, '竹南鎮'),
(10, '頭份市'), (10, '後龍鎮'), (10, '卓蘭鎮'), (10, '大湖鄉'),
(10, '公館鄉'), (10, '銅鑼鄉'), (10, '三義鄉'), (10, '西湖鄉'),
(10, '造橋鄉'), (10, '頭屋鄉'), (10, '三灣鄉'), (10, '南庄鄉'),
(10, '泰安鄉'),
-- 彰化縣（26 鄉鎮）
(11, '彰化市'), (11, '鹿港鎮'), (11, '和美鎮'), (11, '線西鄉'),
(11, '伸港鄉'), (11, '福興鄉'), (11, '秀水鄉'), (11, '花壇鄉'),
(11, '芬園鄉'), (11, '大村鄉'), (11, '員林市'), (11, '永靖鄉'),
(11, '社頭鄉'), (11, '二水鄉'), (11, '北斗鎮'), (11, '田尾鄉'),
(11, '埤頭鄉'), (11, '溪州鄉'), (11, '竹塘鄉'), (11, '大城鄉'),
(11, '芳苑鄉'), (11, '二林鎮'),
-- 南投縣（13 鄉鎮）
(12, '南投市'), (12, '埔里鎮'), (12, '草屯鎮'), (12, '竹山鎮'),
(12, '集集鎮'), (12, '名間鄉'), (12, '鹿谷鄉'), (12, '中寮鄉'),
(12, '魚池鄉'), (12, '國姓鄉'), (12, '水里鄉'), (12, '信義鄉'),
(12, '仁愛鄉'),
-- 雲林縣（20 鄉鎮）
(13, '斗六市'), (13, '斗南鎮'), (13, '虎尾鎮'), (13, '西螺鎮'),
(13, '土庫鎮'), (13, '北港鎮'), (13, '林內鄉'), (13, '古坑鄉'),
(13, '大埤鄉'), (13, '莿桐鄉'), (13, '二崙鄉'), (13, '崙背鄉'),
(13, '麥寮鄉'), (13, '東勢鄉'), (13, '褒忠鄉'), (13, '臺西鄉'),
(13, '元長鄉'), (13, '四湖鄉'), (13, '口湖鄉'), (13, '水林鄉'),
-- 嘉義市（2 區）
(14, '東區'), (14, '西區'),
-- 嘉義縣（17 鄉鎮）
(15, '太保市'), (15, '朴子市'), (15, '布袋鎮'), (15, '民雄鄉'),
(15, '新港鄉'), (15, '六腳鄉'), (15, '東石鄉'), (15, '義竹鄉'),
(15, '鹿草鄉'), (15, '水上鄉'), (15, '中埔鄉'), (15, '竹崎鄉'),
(15, '梅山鄉'), (15, '番路鄉'), (15, '大埔鄉'), (15, '阿里山鄉'),
-- 屏東縣（33 鄉鎮）
(16, '屏東市'), (16, '潮州鎮'), (16, '東港鎮'), (16, '恆春鎮'),
(16, '萬丹鄉'), (16, '長治鄉'), (16, '麟洛鄉'), (16, '九如鄉'),
(16, '里港鄉'), (16, '鹽埔鄉'), (16, '高樹鄉'), (16, '萬巒鄉'),
(16, '內埔鄉'), (16, '竹田鄉'), (16, '新埤鄉'), (16, '枋寮鄉'),
(16, '新園鄉'), (16, '崁頂鄉'), (16, '林邊鄉'), (16, '南州鄉'),
(16, '佳冬鄉'), (16, '琉球鄉'), (16, '車城鄉'), (16, '滿州鄉'),
(16, '枋山鄉'), (16, '三地門鄉'), (16, '霧臺鄉'), (16, '瑪家鄉'),
(16, '泰武鄉'), (16, '來義鄉'), (16, '春日鄉'), (16, '獅子鄉'),
(16, '牡丹鄉'),
-- 宜蘭縣（13 鄉鎮）
(17, '宜蘭市'), (17, '羅東鎮'), (17, '蘇澳鎮'), (17, '頭城鎮'),
(17, '礁溪鄉'), (17, '壯圍鄉'), (17, '員山鄉'), (17, '大同鄉'),
(17, '三星鄉'), (17, '五結鄉'), (17, '冬山鄉'), (17, '南澳鄉'),
-- 花蓮縣（13 鄉鎮）
(18, '花蓮市'), (18, '鳳林鎮'), (18, '玉里鎮'), (18, '新城鄉'),
(18, '吉安鄉'), (18, '壽豐鄉'), (18, '秀林鄉'), (18, '光復鄉'),
(18, '豐濱鄉'), (18, '瑞穗鄉'), (18, '富里鄉'), (18, '卓溪鄉'),
-- 臺東縣（17 鄉鎮）
(19, '臺東市'), (19, '成功鎮'), (19, '關山鎮'), (19, '卑南鄉'),
(19, '鹿野鄉'), (19, '池上鄉'), (19, '東河鄉'), (19, '長濱鄉'),
(19, '太麻里鄉'), (19, '金峰鄉'), (19, '大武鄉'), (19, '達仁鄉'),
(19, '海端鄉'), (19, '延平鄉'), (19, '綠島鄉'), (19, '蘭嶼鄉'),
-- 澎湖縣（6 鄉鎮）
(20, '馬公市'), (20, '湖西鄉'), (20, '白沙鄉'), (20, '西嶼鄉'),
(20, '望安鄉'), (20, '七美鄉'),
-- 金門縣（6 鄉鎮）
(21, '金城鎮'), (21, '金湖鎮'), (21, '金沙鎮'), (21, '金寧鄉'),
(21, '烈嶼鄉'), (21, '烏坵鄉'),
-- 連江縣（4 鄉鎮）
(22, '南竿鄉'), (22, '北竿鄉'), (22, '莒光鄉'), (22, '東引鄉');

-- -------------------------------------------------
-- 2. 建立中心 (1個)
-- -------------------------------------------------
INSERT INTO centers (id, name, plan_level, settings, created_at) VALUES
(1, 'TimeLedger 旗艦館', 'STARTER', '{"allow_public_register": true, "default_language": "zh-TW", "exception_lead_days": 14}', NOW());

-- -------------------------------------------------
-- 3. 建立管理員 (2個)
-- 密碼: admin123
-- bcrypt hash: $2a$10$nZsYJrENRJoW1yLxuZPu0.H4L533HjUMU26pr1LiM0/4VppE02BpC (admin123)
-- -------------------------------------------------
INSERT INTO admin_users (id, center_id, email, password_hash, name, role, status, created_at, updated_at) VALUES
(1, 1, 'admin@timeledger.com', '$2a$10$nZsYJrENRJoW1yLxuZPu0.H4L533HjUMU26pr1LiM0/4VppE02BpC', '超級管理員', 'OWNER', 'ACTIVE', NOW(), NOW()),
(2, 1, 'staff@timeledger.com', '$2a$10$nZsYJrENRJoW1yLxuZPu0.H4L533HjUMU26pr1LiM0/4VppE02BpC', '工作人員', 'STAFF', 'ACTIVE', NOW(), NOW());

-- -------------------------------------------------
-- 4. 建立老師 (3個)
-- -------------------------------------------------
INSERT INTO teachers (id, line_user_id, line_notify_token, name, email, avatar_url, bio, city, district, public_contact_info, is_open_to_hiring, created_at, updated_at) VALUES
(1, 'U000000000000000000000001', NULL, '李小美', 'sarah@example.com', NULL, '資深瑜伽老師，專長哈達瑜伽和熱瑜伽', '臺北市', '大安區', NULL, true, NOW(), NOW()),
(2, 'U000000000000000000000002', NULL, '陳大文', 'david@example.com', NULL, '健身教練，專長肌力訓練和功能性訓練', '新北市', '板橋區', NULL, true, NOW(), NOW()),
(3, 'U000000000000000000000003', NULL, '王小花', 'flower@example.com', NULL, '舞蹈老師，專長芭蕾和現代舞', '桃園市', '桃園區', NULL, false, NOW(), NOW());

-- -------------------------------------------------
-- 5. 老師加入中心 (3筆)
-- -------------------------------------------------
INSERT INTO center_memberships (id, teacher_id, center_id, status, created_at, updated_at) VALUES
(1, 1, 1, 'ACTIVE', NOW(), NOW()),
(2, 2, 1, 'ACTIVE', NOW(), NOW()),
(3, 3, 1, 'ACTIVE', NOW(), NOW());

-- -------------------------------------------------
-- 6. 建立設施 (教室) - 方便測試
-- -------------------------------------------------
INSERT INTO rooms (id, center_id, name, capacity, is_active, created_at, updated_at) VALUES
(1, 1, '瑜伽教室A', 20, true, NOW(), NOW()),
(2, 1, '瑜伽教室B', 15, true, NOW(), NOW()),
(3, 1, '健身教室', 25, true, NOW(), NOW()),
(4, 1, '舞蹈教室', 30, true, NOW(), NOW());

-- -------------------------------------------------
-- 7. 建立課程 - 方便測試
-- -------------------------------------------------
INSERT INTO courses (id, center_id, name, default_duration, color_hex, room_buffer_min, teacher_buffer_min, is_active, created_at, updated_at) VALUES
(1, 1, '哈達瑜伽', 60, '#FF6B6B', 10, 10, true, NOW(), NOW()),
(2, 1, '熱瑜伽', 60, '#FF8E53', 15, 15, true, NOW(), NOW()),
(3, 1, '肌力訓練', 45, '#4ECDC4', 5, 10, true, NOW(), NOW()),
(4, 1, '芭蕾基礎', 90, '#A066D3', 10, 15, true, NOW(), NOW());

-- -------------------------------------------------
-- 8. 建立班別 (Offerings) - 方便測試
-- -------------------------------------------------
INSERT INTO offerings (id, center_id, course_id, name, default_room_id, default_teacher_id, allow_buffer_override, is_active, created_at, updated_at) VALUES
(1, 1, 1, '週一早班哈達瑜伽', NULL, NULL, false, true, NOW(), NOW()),
(2, 1, 2, '週三熱瑜伽', NULL, NULL, false, true, NOW(), NOW()),
(3, 1, 3, '週五晚間肌力訓練', NULL, NULL, false, true, NOW(), NOW()),
(4, 1, 4, '週六芭蕾課程', NULL, NULL, false, true, NOW(), NOW());

-- =====================================================
-- 新增：排課規則 (Schedule Rules) - 方便測試跨日與衝突
-- =====================================================
INSERT INTO schedule_rules (id, center_id, offering_id, teacher_id, room_id, name, weekday, start_time, end_time, duration, is_cross_day, effective_range, created_at, updated_at) VALUES
-- 普通課程
(1, 1, 1, 1, 1, '週一上午哈達瑜伽', 1, '09:00', '10:00', 60, FALSE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW()),
(2, 1, 1, 1, 1, '週一下午哈達瑜伽', 1, '14:00', '15:00', 60, FALSE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW()),
(3, 1, 2, 1, 2, '週三熱瑜伽', 3, '19:00', '20:00', 60, FALSE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW()),
(4, 1, 3, 2, 3, '週五晚間肌力訓練', 5, '18:00', '19:00', 45, FALSE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW()),
(5, 1, 3, 2, 3, '週五夜間肌力訓練', 5, '19:30', '20:30', 45, FALSE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW()),
(6, 1, 4, 3, 4, '週六芭蕾課程', 6, '10:00', '11:30', 90, FALSE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW()),
-- 跨日課程（深夜時段）
(7, 1, 1, 1, 1, '週一跨日瑜伽', 1, '23:00', '02:00', 180, TRUE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW()),
(8, 1, 2, 2, 2, '週三跨日舞蹈', 3, '22:00', '01:00', 180, TRUE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW()),
-- 緩衝時間測試用（間隔 5 分鐘）
(9, 1, 1, 1, 1, '週二密集瑜伽', 2, '10:00', '11:00', 60, FALSE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW()),
(10, 1, 1, 1, 1, '週二短間隔瑜伽', 2, '11:05', '12:05', 60, FALSE, '{"start_date": "2026-01-01T00:00:00+08:00", "end_date": "2026-12-31T23:59:59+08:00"}', NOW(), NOW());

-- =====================================================
-- 新增：私人行程 (Personal Events) - 方便測試老師請假
-- =====================================================
INSERT INTO personal_events (id, teacher_id, title, start_at, end_at, is_all_day, color_hex, created_at, updated_at) VALUES
(1, 1, '國外進修', '2026-02-10 00:00:00', '2026-02-20 23:59:59', TRUE, '#FF6B6B', NOW(), NOW()),
(2, 1, '私人行程', '2026-03-15 09:00:00', '2026-03-15 12:00:00', FALSE, '#4ECDC4', NOW(), NOW()),
(3, 2, '身體檢查', '2026-02-05 08:00:00', '2026-02-05 12:00:00', FALSE, '#A066D3', NOW(), NOW()),
(4, 3, '舞蹈比賽', '2026-04-20 00:00:00', '2026-04-22 23:59:59', TRUE, '#FF8E53', NOW(), NOW());

-- =====================================================
-- 新增：例外申請 (Schedule Exceptions) - 方便測試審核流程
-- =====================================================
INSERT INTO schedule_exceptions (id, center_id, rule_id, exception_type, original_date, new_start_at, new_end_at, reason, status, reviewed_by, reviewed_at, review_note, created_at, updated_at) VALUES
-- 待審核的例外
(1, 1, 1, 'CANCEL', '2026-02-03', NULL, NULL, '身體不適需要休息', 'PENDING', NULL, NULL, NULL, NOW(), NOW()),
(2, 1, 3, 'RESCHEDULE', '2026-02-05', '2026-02-06 19:00:00', '2026-02-06 20:00:00', '與重要會議衝突', 'PENDING', NULL, NULL, NULL, NOW(), NOW()),
-- 已核准的例外
(3, 1, 2, 'CANCEL', '2026-01-20', NULL, NULL, '臨時有事', 'APPROVED', 1, NOW(), '已核准', NOW(), NOW()),
-- 已拒絕的例外
(4, 1, 4, 'CANCEL', '2026-01-25', NULL, NULL, '想要休假', 'REJECTED', 1, NOW(), '請提供更詳細的理由', NOW(), NOW()),
-- 已撤回的例外
(5, 1, 1, 'CANCEL', '2026-01-15', NULL, NULL, '重新考慮後決定不休假', 'REVOKED', NULL, NULL, NULL, NOW(), NOW());

-- =====================================================
-- 新增：中心假日 (Center Holidays) - 方便測試假日停課
-- =====================================================
INSERT INTO center_holidays (id, center_id, name, date, created_at, updated_at) VALUES
(1, 1, '農曆春節', '2026-01-29', NOW(), NOW()),
(2, 1, '農曆春節', '2026-01-30', NOW(), NOW()),
(3, 1, '農曆春節', '2026-01-31', NOW(), NOW()),
(4, 1, '農曆春節', '2026-02-01', NOW(), NOW()),
(5, 1, '農曆春節', '2026-02-02', NOW(), NOW()),
(6, 1, '清明節', '2026-04-04', NOW(), NOW()),
(7, 1, '勞動節', '2026-05-01', NOW(), NOW()),
(8, 1, '端午節', '2026-05-31', NOW(), NOW()),
(9, 1, '中秋節', '2026-10-06', NOW(), NOW()),
(10, 1, '雙十節', '2026-10-10', NOW(), NOW());

-- =====================================================
-- 新增：中心邀請 (Center Invitations)
-- =====================================================
INSERT INTO center_invitations (id, center_id, teacher_id, email, token, invite_type, status, invited_by, message, expires_at, responded_at, created_at) VALUES
(1, 1, NULL, NULL, 'INV-001-ABC123', 'TALENT_POOL', 'PENDING', 1, '誠摯邀請您加入我們的教學團隊', '2026-12-31 23:59:59', NULL, NOW()),
(2, 1, NULL, NULL, 'INV-002-DEF456', 'TALENT_POOL', 'PENDING', 1, '歡迎加入 TimeLedger 人才庫', '2026-12-31 23:59:59', NULL, NOW());

-- =====================================================
-- 新增：老師技能 (Teacher Skills) - 方便測試技能媒合
-- =====================================================
INSERT INTO teacher_skills (id, teacher_id, category, skill_name, level, created_at, updated_at) VALUES
(1, 1, '瑜伽', '哈達瑜伽', 'EXPERT', NOW(), NOW()),
(2, 1, '瑜伽', '熱瑜伽', 'ADVANCED', NOW(), NOW()),
(3, 2, '健身', '肌力訓練', 'EXPERT', NOW(), NOW()),
(4, 3, '舞蹈', '芭蕾', 'EXPERT', NOW(), NOW());

-- =====================================================
-- 新增：老師證書 (Teacher Certificates)
-- =====================================================
INSERT INTO teacher_certificates (id, teacher_id, name, file_url, issued_at, is_verified, created_at, updated_at) VALUES
(1, 1, 'RYT-500 瑜伽教練證書', 'https://example.com/cert/yoga-001', '2020-01-15', FALSE, NOW(), NOW()),
(2, 1, '熱瑜伽師資認證', 'https://example.com/cert/hot-yoga-001', '2021-06-01', FALSE, NOW(), NOW()),
(3, 2, 'NSCA-CPT 私人教練證書', 'https://example.com/cert/nsca-001', '2019-05-20', FALSE, NOW(), NOW()),
(4, 3, '芭蕾舞師資證書', 'https://example.com/cert/ballet-001', '2018-09-10', FALSE, NOW(), NOW());

-- =====================================================
-- 新增：中心老師筆記 (Center Teacher Notes)
-- =====================================================
INSERT INTO center_teacher_notes (id, center_id, teacher_id, internal_note, rating, created_at, updated_at) VALUES
(1, 1, 1, '李小美老師教學經驗豐富，課堂氣氛活躍', 5, NOW(), NOW()),
(2, 1, 1, '擅長初學者教學', 4, NOW(), NOW()),
(3, 1, 2, '陳大文老師專業認真，學員評價極高', 5, NOW(), NOW()),
(4, 1, 3, '需要提醒準時上課', 3, NOW(), NOW());

-- =====================================================
-- 新增：課程時段筆記 (Session Notes)
-- =====================================================
INSERT INTO session_notes (id, teacher_id, rule_id, session_date, content, prep_note, updated_at) VALUES
(1, 1, 1, '2026-01-06', '本課程適合初學者，請穿著舒適服裝', '請提前 15 分鐘到場', NOW()),
(2, 1, 3, '2026-01-08', '熱瑜伽課程，請自備毛巾和水', '預熱教室至 38 度', NOW()),
(3, 2, 4, '2026-01-10', '本課程包含肌力訓練和心肺訓練', '準備 TRX 懸吊訓練器材', NOW());

-- =====================================================
-- 完成！顯示摘要
-- =====================================================


-- =====================================================
-- 測試帳號資訊
-- =====================================================
-- 管理員帳號:
--   Email: admin@timeledger.com / staff@timeledger.com
--   密碼: admin123
--
-- 老師帳號 (LINE User ID):
--   李小美: U000000000000000000000001
--   陳大文: U000000000000000000000002
--   王小花: U000000000000000000000003
--
-- 快速登入測試:
--   請使用本機測試資料庫，並在登入頁面點擊快速登入按鈕
-- =====================================================
